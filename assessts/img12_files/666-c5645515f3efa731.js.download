(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[666],{10666:function(e,r,t){"use strict";t.d(r,{G:function(){return F}});var o=t(34051),n=t.n(o),s=t(85893),a=t(11163),i=t(67294),d=t(9473),l=t(97297),u=t(39529),c=t(98352),A=t(23850),E=t(67814),m=(t(21082),t(68311),t(73465)),g=t(17468),f=t(17340),S=t(89811),x=t(45867);function y(e,r){if(null==e)return{};var t,o,n=function(e,r){if(null==e)return{};var t,o,n={},s=Object.keys(e);for(o=0;o<s.length;o++)t=s[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)t=s[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function p(e){var r=e.type,o=y(e,["type"]),n=((0,a.useRouter)(),function(e){switch(e.moduleTasksDetailsEntity.taskType){case"TASK_TYPE_SETUP":return(0,s.jsxs)("div",{className:"flex gap-x-1",children:["Setup ",(0,s.jsx)("strong",{children:e.position})]});case"TASK_TYPE_MILESTONE":return(0,s.jsxs)("div",{className:"flex gap-x-1",children:["Milestone ",(0,s.jsx)("strong",{children:e.position})]});case"TASK_TYPE_CODE":return(0,s.jsxs)("div",{className:"flex gap-x-1",children:["Code ",(0,s.jsx)("strong",{children:e.position})]});case"TASK_TYPE_BREAKDOWN_STUB":case"TASK_TYPE_DEBRIEF":case"TASK_TYPE_QUIZ":return(0,s.jsxs)("div",{className:"flex gap-x-1",children:["Debrief ",(0,s.jsx)("strong",{children:e.position})]});default:return(0,s.jsx)("div",{className:"flex gap-x-1",children:"Task"})}}),i=function(e){switch(e){case g.ETaskStatus.TASK_STATUS_LOCKED:return(0,s.jsx)(E.G,{icon:["fas","lock-alt"],size:"sm",className:"mb-[1px] text-[14px]"});case g.ETaskStatus.TASK_STATUS_UNLOCKED:case g.ETaskStatus.TASK_STATUS_IN_PROGRESS:return(0,s.jsx)("div",{className:"rounded-full w-[10px] h-[10px] bg-primary-500 dark:bg-primary-300"});case g.ETaskStatus.TASK_STATUS_COMPLETED:return(0,s.jsx)(E.G,{icon:["fas","check-circle"],size:"sm",className:" mb-[1px] text-success-500 dark:text-success-300 text-[14px]"});default:return(0,s.jsx)(s.Fragment,{})}};return function(e,r){switch(e){case"OVERVIEW":return(0,s.jsxs)(m.OK,{_dark:{bg:"gray.800",borderBottomWidth:"4px",borderBottomColor:"gray.800"},bg:"white",borderBottomWidth:"4px",borderBottomColor:"white",_focus:{boxShadow:""},_selected:{_hover:{opacity:"1"},_dark:{bg:"blue.600",borderBottomColor:"primary.300"},bg:"primary.50",borderBottomColor:"primary.500",borderBottomWidth:"4px"},className:" ml-2 p-3 py-2 relative rounded-md h-[100px] w-[220px] cursor-pointer  ".concat(S.card," "),children:[(0,s.jsx)(f.Z,{variant:"h4",children:"Overview"}),(0,s.jsx)("div",{className:"absolute left-0 bottom-0",children:(0,s.jsx)(x.default,{className:"w-[50px]",src:t(7558),alt:"Overview"})})]});case"MODULE_TASK_TYPE_PRE_MODULE_TASK":case"MODULE_TASK_TYPE_MODULE_TASK":var o=r.task,a=o.taskStatus;return(0,s.jsxs)(m.OK,{isDisabled:a==g.ETaskStatus.TASK_STATUS_LOCKED,_disabled:{bg:"gray.200",border:"none",boxShadow:"none",cursor:"not-allowed"},alignItems:"flex-start",flexDir:"column",justifyContent:"flex-start",textAlign:"left",_dark:{bg:"gray.800",_disabled:{bg:"gray.800",border:"none",boxShadow:"none",opacity:.7}},bg:"white",_focus:{boxShadow:""},_selected:{_hover:{opacity:"1"},_dark:{bg:"blue.600",borderBottomColor:"primary.300"},bg:"primary.50",borderBottomColor:"primary.500",borderBottomWidth:"4px"},className:"ml-2 ".concat(a!=g.ETaskStatus.TASK_STATUS_LOCKED&&"do_not_swipe"," p-3 py-2 rounded-md h-[100px] w-[220px]  ").concat(S.card),children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex items-center gap-x-2 ",children:[(0,s.jsx)("div",{children:i(a)}),(0,s.jsx)(f.Z,{noOfLines:2,variant:"p",className:"text-sm",children:n(o)})]})}),(0,s.jsx)("div",{children:(0,s.jsx)(f.Z,{noOfLines:2,variant:"p",className:"text-sm ",style:{wordBreak:"break-word"},children:o.moduleTasksDetailsEntity.taskTitle})})]});case"MODULE_TASK_TYPE_POST_MODULE_TASK":var d=r.task,l=d.taskStatus;return(0,s.jsxs)(m.OK,{isDisabled:l==g.ETaskStatus.TASK_STATUS_LOCKED,_disabled:{bg:"gray.200",border:"none",boxShadow:"none",cursor:"not-allowed"},alignItems:"flex-start",flexDir:"column",justifyContent:"flex-start",textAlign:"left",_dark:{bg:"background.800",_disabled:{bg:"gray.800",border:"none",boxShadow:"none",opacity:.7}},bg:"secondary.50",_focus:{boxShadow:""},_selected:{_hover:{opacity:"1"},_dark:{bg:"blue.600",borderBottomColor:"primary.300"},bg:"primary.50",borderBottomColor:"primary.500",borderBottomWidth:"4px"},className:"ml-2 ".concat(l!=g.ETaskStatus.TASK_STATUS_LOCKED&&"do_not_swipe"," p-3 py-2 rounded-md h-[100px] w-[220px]  ").concat(S.card),children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex items-center gap-x-2 ",children:[(0,s.jsx)("div",{children:i(l)}),(0,s.jsx)(f.Z,{noOfLines:2,variant:"p",className:"text-sm",children:n(d)})]})}),(0,s.jsx)("div",{children:(0,s.jsx)(f.Z,{noOfLines:2,variant:"p",className:"text-sm",children:d.moduleTasksDetailsEntity.taskTitle})})]});case"ASSESSMENT":return(0,s.jsx)(m.OK,{_dark:{bg:"gray.800",borderBottomWidth:"4px",borderBottomColor:"gray.800"},borderBottomWidth:"4px",borderBottomColor:"white",bg:"white",_focus:{boxShadow:""},_selected:{_hover:{opacity:"1"},_dark:{bg:"blue.600",borderBottomColor:"primary.300"},bg:"primary.50",borderBottomColor:"primary.500",borderBottomWidth:"4px"},className:"ml-2 p-3 py-2 rounded-md h-[100px] w-[220px] cursor-pointer ".concat(S.card),children:(0,s.jsx)(f.Z,{variant:"h4",children:"Assessment"})});case"DEBRIEF_LOCKED":var u=r.task;return(0,s.jsxs)(m.OK,{isDisabled:!0,_disabled:{bg:"gray.200",border:"none",boxShadow:"none",cursor:"not-allowed"},alignItems:"flex-start",flexDir:"column",justifyContent:"flex-start",textAlign:"left",_dark:{bg:"gray.800",_disabled:{bg:"gray.800",border:"none",boxShadow:"none",opacity:.7}},bg:"white",_focus:{boxShadow:""},_selected:{_hover:{opacity:"1"},_dark:{bg:"blue.600",borderBottomColor:"primary.300"},bg:"primary.50",borderBottomColor:"primary.500",borderBottomWidth:"4px"},className:"ml-2 \n             p-3 py-2 rounded-md h-[100px] w-[220px]  ".concat(S.card),children:[(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"flex items-center gap-x-2 ",children:[(0,s.jsx)("div",{children:i(g.ETaskStatus.TASK_STATUS_LOCKED)}),(0,s.jsxs)(f.Z,{noOfLines:2,variant:"p",className:"text-sm",children:["Debrief ",u.index+1]})]})}),(0,s.jsx)("div",{children:(0,s.jsx)(f.Z,{noOfLines:2,variant:"p",className:"text-sm"})})]});default:return(0,s.jsx)(s.Fragment,{})}}(r,o)}var h=t(88767),T=t(95635),v=t(93282),I=t(54107),D=t(15193),b=t(74931),M=t(18057);function B(e,r,t,o,n,s,a){try{var i=e[s](a),d=i.value}catch(l){return void t(l)}i.done?r(d):Promise.resolve(d).then(o,n)}function _(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(r){_(e,r,t[r])}))}return e}function O(e){var r,t,o,l=e.meId,u=e.moduleId,c=e.task,A=e.slides,m=e.index,f=e.form,S=M.QUERY_KEY.QUERY_KEY_FETCH_TASK_DETAILS,x=M.QUERY_KEY.QUERY_KEY_GET_USER_ME_ENROLL_ELIGIBILITY,y=M.MUTATION_KEY.MUTATION_KEY_TRANSITION_TASK,p=M.MUTATION_KEY.MUTATION_KEY_VALIDATE_TASK,I=(0,d.I0)(),O=(0,a.useRouter)(),C=(0,h.useQueryClient)(),k=O.query.taskId,P=Boolean((null===c||void 0===c||null===(r=c.moduleTasksDetailsEntity)||void 0===r||null===(t=r.staticQuestionsList)||void 0===t?void 0:t.length)>0),j=Boolean((null===c||void 0===c||null===(o=c.userAnswerList)||void 0===o?void 0:o.length)>0);(0,i.useEffect)((function(){f.reset({})}),[k]);(0,h.useQuery)([x,l],(function(){return I(T.Z.getUserMeEnrollEligibility(l)).then((function(e){return e.data}))}),{onSuccess:function(){},enabled:!0,onError:function(){}});var L=(0,h.useMutation)([y],(function(e){var r=e.meId,t=e.moduleId,o=e.task;return I(T.Z.transitionTask(r,t,o))}),{onSuccess:function(){K(l,u)},onError:function(e){b.ZP.error("Something went wrong! Try again or contact support.",{id:"error",duration:3e3})}}),U=(0,h.useMutation)([p],(function(e){var r=e.meId,t=e.moduleId,o=e.task,n=e.userQuestionAnswerMap;return I(T.Z.validateTask(r,t,o,n))}),{onSuccess:function(){N(l,u,c),document.getElementById("quiz-".concat(c.moduleTasksDetailsEntity.meModuleTaskPk.taskId)).scrollIntoView()},onError:function(e){b.ZP.error("Something went wrong! Try again or contact support.",{id:"error",duration:3e3})}}),Q=function(){var e,r=(e=n().mark((function e(r,t,o,s){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},Object.keys(r).forEach((function(e){a=w({},a,_({},e,Array.isArray(r[e])?r[e]:[r[e]]))}));try{U.mutateAsync({meId:t,moduleId:o,task:s,userQuestionAnswerMap:a})}catch(n){b.ZP.error("Something went wrong! Try again or contact support.",{id:"error",duration:3e3})}case 3:case"end":return e.stop()}}),e)})),function(){var r=this,t=arguments;return new Promise((function(o,n){var s=e.apply(r,t);function a(e){B(s,o,n,a,i,"next",e)}function i(e){B(s,o,n,a,i,"throw",e)}a(void 0)}))});return function(e,t,o,n){return r.apply(this,arguments)}}(),K=function(e,r){C.refetchQueries([S,e,r])},N=function(e,r,t,o){try{L.mutateAsync({meId:e,moduleId:r,task:t});"MODULE_TASK_TYPE_POST_MODULE_TASK"==o?b.ZP.success("Debrief task completed successfully!",{id:"task-complete",position:"bottom-center",duration:3e3,style:{marginBottom:"70px"}}):b.ZP.success("Task completed successfully!",{id:"task-complete",position:"bottom-center",duration:3e3,style:{marginBottom:"60px"}})}catch(n){}},q=function(e,r,t,o,n,s){"MODULE_TASK_TYPE_POST_MODULE_TASK"==s?o.push({pathname:o.query.relatedModuleId?n.RELATED_MODULE_DEBRIEF_TASK:n.DEBRIEF_TASK,query:w({meId:o.query.meId,moduleId:o.query.moduleId},o.query.relatedMeId&&{relatedMeId:o.query.relatedMeId},o.query.relatedModuleId&&{relatedModuleId:o.query.relatedModuleId},{taskId:t})}):o.push({pathname:o.query.relatedModuleId?n.RELATED_MODULE_TASK:n.MODULE_TASK,query:w({meId:o.query.meId,moduleId:o.query.moduleId},o.query.relatedMeId&&{relatedMeId:o.query.relatedMeId},o.query.relatedModuleId&&{relatedModuleId:o.query.relatedModuleId},{taskId:t})})};return(0,i.useEffect)((function(){(null===c||void 0===c?void 0:c.taskStatus)===g.ETaskStatus.TASK_STATUS_UNLOCKED&&L.mutate({meId:l,moduleId:u,task:c})}),[k,l,u]),(0,s.jsx)("div",{className:"z-10 h-[60px] w-full absolute left-0 bottom-0 dark:bg-gray-900 bg-white shadow-md border-t-2 border-background-300 dark:border-gray-700 flex justify-center ",children:(0,s.jsx)("div",{className:" md:w-[700px] flex justify-end items-center w-full",children:function(e,r,t,o,n,a,i){switch(null===t||void 0===t?void 0:t.type){case"OVERVIEW":return(0,s.jsxs)(D.zx,{colorScheme:"primary",variant:"solid",className:"flex gap-x-2 items-center",size:"md",minW:"208px",onClick:function(e){return q(0,0,o[n+1].moduleTasksDetailsEntity.meModuleTaskPk.taskId,a,i,null===t||void 0===t?void 0:t.type)},children:[(0,s.jsx)("p",{children:"Go to Milestones"})," ",(0,s.jsx)(E.G,{icon:["fas","arrow-right"],size:"sm"})]});case"ASSESSMENT":break;default:if((null===t||void 0===t?void 0:t.taskStatus)!=g.ETaskStatus.TASK_STATUS_COMPLETED)return P&&!j?(0,s.jsx)("form",{onSubmit:f.handleSubmit((function(o){return Q(o,e,r,t)})),children:(0,s.jsx)(D.zx,{colorScheme:"primary",variant:"solid",type:"submit",size:"md",minW:"208px",isDisabled:U.isLoading,isLoading:U.isLoading,loadingText:"Submitting answers...",children:"Submit"})}):(0,s.jsx)(D.zx,{colorScheme:"primary",variant:"solid",size:"md",minW:"208px",isDisabled:L.isLoading,isLoading:L.isLoading,loadingText:"Please wait...",onClick:function(o){return N(e,r,t,null===t||void 0===t?void 0:t.type)},children:"Mark as Complete"});var d,l;if(null===o||void 0===o||null===(d=o[n+1])||void 0===d?void 0:d.taskStatus)return(0,s.jsxs)(D.zx,{colorScheme:"primary",variant:"solid",className:"flex gap-x-2 items-center",size:"md",minW:"208px",onClick:function(e){q(0,0,o[n+1].moduleTasksDetailsEntity.meModuleTaskPk.taskId,a,i,null===t||void 0===t?void 0:t.type)},children:[(0,s.jsx)("p",{children:"MODULE_TASK_TYPE_POST_MODULE_TASK"!=(null===t||void 0===t?void 0:t.type)?"Go to Next Milestone":"Go to Next Debrief"}),(0,s.jsx)(E.G,{icon:["fas","arrow-right"],size:"sm"})]});if("ASSESSMENT"==(null===o||void 0===o||null===(l=o[n+1])||void 0===l?void 0:l.type))return(0,s.jsxs)(D.zx,{colorScheme:"primary",variant:"solid",className:"flex gap-x-2 items-center",size:"md",onClick:function(e){return function(e,r){e.push({pathname:e.query.relatedModuleId?r.RELATED_MODULE_ASSESSMENT:r.MODULE_ASSESSMENT,query:w({meId:e.query.meId,moduleId:e.query.moduleId},e.query.relatedMeId&&{relatedMeId:e.query.relatedMeId},e.query.relatedModuleId&&{relatedModuleId:e.query.relatedModuleId})})}(a,i)},children:[(0,s.jsx)("p",{children:" Go to Assessment"}),(0,s.jsx)(E.G,{icon:["fas","arrow-right"],size:"sm"})]});if((null===o||void 0===o?void 0:o.length)-1==n)return(0,s.jsx)(s.Fragment,{})}}(l,u,c,A,m,O,v.routes)})})}var C=t(46513),k=t(19693),P=t(87536),j=t(46183),L=t(43354);function U(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function Q(e,r,t,o,n,s,a){try{var i=e[s](a),d=i.value}catch(l){return void t(l)}i.done?r(d):Promise.resolve(d).then(o,n)}function K(e){return function(){var r=this,t=arguments;return new Promise((function(o,n){var s=e.apply(r,t);function a(e){Q(s,o,n,a,i,"next",e)}function i(e){Q(s,o,n,a,i,"throw",e)}a(void 0)}))}}function N(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},o=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),o.forEach((function(r){N(e,r,t[r])}))}return e}function Y(e,r){if(null==e)return{};var t,o,n=function(e,r){if(null==e)return{};var t,o,n={},s=Object.keys(e);for(o=0;o<s.length;o++)t=s[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)t=s[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function G(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return U(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return U(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){var r,t,o,u,g,f,S,x,y,D=e.children,b=Y(e,["children"]),B=M.QUERY_KEY.QUERY_KEY_FETCH_TASK_DETAILS,_=(0,a.useRouter)(),w=(0,d.I0)(),U=(0,i.useRef)(null),Q=i.useRef(null),N=i.useRef(null),R=(0,i.useRef)(null),F=(0,C._)(),X=(0,C._)(),z=_.query.relatedMeId||_.query.meId,Z=_.query.relatedModuleId||_.query.moduleId,V=(0,d.v9)((function(e){var r;return null===(r=e.meReducer)||void 0===r?void 0:r.meList})).find((function(e){return e.meId==z})),H=Boolean("ME_TYPE_BYTE"==(null===V||void 0===V?void 0:V.meType)||"ME_TYPE_PROJECT"==(null===V||void 0===V?void 0:V.meType)),W=(0,i.useState)([]),J=W[0],$=W[1],ee=(0,i.useState)(0),re=ee[0],te=ee[1],oe=(0,i.useState)(!1),ne=oe[0],se=oe[1],ae=(0,i.useState)(!1),ie=ae[0],de=ae[1],le=(0,i.useState)(!1),ue=le[0],ce=le[1],Ae=(0,i.useState)(!0),Ee=(Ae[0],Ae[1]),me=((0,j.G)(L.ESocketEvents.WebSocketSignUpStatusEvent,(function(e){return he.apply(this,arguments)})).connected,(0,P.cI)()),ge=me.register,fe=me.handleSubmit,Se=(me.watch,me.setFocus),xe=me.reset,ye=me.formState.errors,pe=(0,h.useQuery)([B,z,Z],(function(){return w(T.Z.fetchTaskDetails(z,Z)).then((function(e){return e.data}))}),{onSuccess:function(e){var r,t=[];if((t.push({type:"OVERVIEW",route:[v.routes.MODULE_DASHBOARD,v.routes.RELATED_MODULE_DASHBOARD]}),e.preModuleTasks.map((function(e,r){t.push(q({},e,{type:"MODULE_TASK_TYPE_PRE_MODULE_TASK"}))})),e.moduleTasks.map((function(e,r){t.push(q({},e,{type:"MODULE_TASK_TYPE_MODULE_TASK"}))})),!H)&&(t.push({type:"ASSESSMENT",route:[v.routes.MODULE_ASSESSMENT,v.routes.RELATED_MODULE_ASSESSMENT]}),e.postModuleTasks.map((function(e,r){t.push(q({},e,{type:"MODULE_TASK_TYPE_POST_MODULE_TASK"}))})),e.numOfPostModuleTasksAvailableForModule>0&&0==(null===(r=e.postModuleTasks)||void 0===r?void 0:r.length)))for(var o=0;o<e.numOfPostModuleTasksAvailableForModule;o++)t.push({type:"DEBRIEF_LOCKED",index:o});$(t)},onError:function(e){}});function he(){return(he=K(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe.refetch();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Te=function(e,r){return r<e?r:e},ve={slidesPerView:1,loop:!1,spaceBetween:5,noSwipingClass:"do_not_swipe",autoplay:!1,grabCursor:!0,preloadImages:!0,breakpoints:b.isByteOrProject?{980:{slidesPerView:Te(3,J.length)},1260:{slidesPerView:Te(4,J.length)},1366:{slidesPerView:Te(5,J.length)},1500:{slidesPerView:Te(6,J.length)}}:{980:{slidesPerView:Te(2,J.length)},1260:{slidesPerView:Te(3,J.length)},1366:{slidesPerView:Te(4,J.length)},1500:{slidesPerView:Te(5,J.length)}}};(0,i.useMemo)((function(){return function(e,r){switch(e){case v.routes.MODULE_ASSESSMENT:case v.routes.RELATED_MODULE_ASSESSMENT:var t=r.findIndex((function(e){return"ASSESSMENT"==e.type}));te(t);break;case v.routes.MODULE_DASHBOARD:case v.routes.RELATED_MODULE_DASHBOARD:te(0);break;case v.routes.MODULE_TASK:case v.routes.RELATED_MODULE_TASK:case v.routes.DEBRIEF_TASK:case v.routes.RELATED_MODULE_DEBRIEF_TASK:var o=r.findIndex((function(e){var r,t,o;return(null===e||void 0===e||null===(r=e.moduleTasksDetailsEntity)||void 0===r||null===(t=r.meModuleTaskPk)||void 0===t?void 0:t.taskId)===(null===(o=_.query)||void 0===o?void 0:o.taskId)}));te(o);break;default:te(0)}}(_.route,J)}),[_.asPath,J]),(0,i.useEffect)((function(){U.current&&U.current.swiper&&pe.isSuccess&&(U.current.swiper.slideTo(0!=re?re-1:re),Ie(U.current.swiper))}),[U.current,re,z,Z]);var Ie=function(e){e&&(e.isEnd?de(!0):de(!1),e.isBeginning?se(!0):se(!1))},De=function(e,r){switch(e.type){case"OVERVIEW":return(0,s.jsx)("div",{children:(0,s.jsx)(p,{type:"OVERVIEW"})});case"ASSESSMENT":return(0,s.jsx)("div",{children:(0,s.jsx)(p,{type:"ASSESSMENT"})});case"MODULE_TASK_TYPE_PRE_MODULE_TASK":case"MODULE_TASK_TYPE_MODULE_TASK":return(0,s.jsx)("div",{children:(0,s.jsx)(p,{task:e,type:e.type})});case"MODULE_TASK_TYPE_POST_MODULE_TASK":return(0,s.jsx)("div",{children:(0,s.jsx)(p,{task:e,type:"MODULE_TASK_TYPE_POST_MODULE_TASK"})});case"DEBRIEF_LOCKED":return(0,s.jsx)("div",{children:(0,s.jsx)(p,{task:e,type:"DEBRIEF_LOCKED"})});default:return(0,s.jsx)(s.Fragment,{})}};(0,i.useEffect)((function(){R.current&&R.current.scrollTo({top:0,behavior:"smooth"})}),[null===_||void 0===_||null===(r=_.query)||void 0===r?void 0:r.taskId,z,Z]),(0,i.useEffect)((function(){ue?Me():be()}),[ue]);var be=function(e){F.start({y:0}),X.start({marginTop:0}),Ee(!0)},Me=function(){ue&&(F.start({y:-110}),X.start({marginTop:-20}),Ee(!1))};return(0,i.useEffect)((function(){be()}),[_.query.meId,_.query.moduleId]),(0,s.jsxs)(s.Fragment,{children:[(null===(t=b.moduleDetail)||void 0===t||null===(o=t[Z])||void 0===o||null===(u=o.userModuleDetails)||void 0===u||null===(g=u.moduleDetails)||void 0===g?void 0:g.moduleTitle)&&(0,s.jsx)(l.Z,{title:null===(f=b.moduleDetail)||void 0===f||null===(S=f[Z])||void 0===S||null===(x=S.userModuleDetails)||void 0===x||null===(y=x.moduleDetails)||void 0===y?void 0:y.moduleTitle}),(0,s.jsxs)("div",{className:"relative h-[calc(100vh-50px)] ",children:[pe.isSuccess&&J.length>0?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(k.E.div,{initial:{y:0},transition:{duration:.5,type:"tween",ease:"easeOut"},className:"sm:block hidden absolute top-0 w-full z-10",animate:F,onMouseEnter:be,onMouseLeave:Me,children:(0,s.jsxs)("div",{className:"z-10 border-b dark:border-b-background-700 pb-5 relative  h-[120px] pt-1 bg-white dark:bg-gray-700 transition-all ".concat(ue&&"shadow-md"),children:[(0,s.jsx)(k.E.div,{animate:X,transition:{duration:.5,type:"tween",ease:"easeOut"},children:(0,s.jsx)(m.mQ,{variant:"unstyled",index:re,onChange:function(e){return function(e,r){var t=e[r];switch(t.type){case"OVERVIEW":_.push({pathname:_.query.relatedModuleId?v.routes.RELATED_MODULE_DASHBOARD:v.routes.MODULE_DASHBOARD,query:q({meId:_.query.meId,moduleId:_.query.moduleId},_.query.relatedMeId&&{relatedMeId:_.query.relatedMeId},_.query.relatedModuleId&&{relatedModuleId:_.query.relatedModuleId})});break;case"ASSESSMENT":_.push({pathname:_.query.relatedModuleId?v.routes.RELATED_MODULE_ASSESSMENT:v.routes.MODULE_ASSESSMENT,query:q({meId:_.query.meId,moduleId:_.query.moduleId},_.query.relatedMeId&&{relatedMeId:_.query.relatedMeId},_.query.relatedModuleId&&{relatedModuleId:_.query.relatedModuleId})});break;case"MODULE_TASK_TYPE_PRE_MODULE_TASK":case"MODULE_TASK_TYPE_MODULE_TASK":_.push({pathname:_.query.relatedModuleId?v.routes.RELATED_MODULE_TASK:v.routes.MODULE_TASK,query:q({meId:_.query.meId,moduleId:_.query.moduleId},_.query.relatedMeId&&{relatedMeId:_.query.relatedMeId},_.query.relatedModuleId&&{relatedModuleId:_.query.relatedModuleId},{taskId:t.moduleTasksDetailsEntity.meModuleTaskPk.taskId})});break;case"MODULE_TASK_TYPE_POST_MODULE_TASK":_.push({pathname:_.query.relatedModuleId?v.routes.RELATED_MODULE_DEBRIEF_TASK:v.routes.DEBRIEF_TASK,query:q({meId:_.query.meId,moduleId:_.query.moduleId},_.query.relatedMeId&&{relatedMeId:_.query.relatedMeId},_.query.relatedModuleId&&{relatedModuleId:_.query.relatedModuleId},{taskId:t.moduleTasksDetailsEntity.meModuleTaskPk.taskId})})}}(J,e)},children:(0,s.jsx)(m.td,{children:(0,s.jsx)(c.tq,q({className:"mx-10 "},ve,{grabCursor:!0,ref:U,modules:[A.W_,A.eZ],navigation:{prevEl:Q.current,nextEl:N.current},children:J.map((function(e,r){return(0,s.jsx)(c.o5,{virtualIndex:r,children:De(e)},r)}))}))})})}),(0,s.jsx)("div",{onClick:function(){Ie(U.current.swiper),U.current.swiper.slidePrev()},ref:Q,className:"  ".concat(ne?"opacity-30 cursor-not-allowed":"opacity-70 hover:opacity-50  cursor-pointer "," absolute top-1/2 left-5 z-10 transform -translate-x-1/2 -translate-y-1/2 "),children:(0,s.jsx)(E.G,{icon:["fas","chevron-left"]})})," ",(0,s.jsx)("div",{onClick:function(){Ie(U.current.swiper),U.current.swiper.slideNext()},ref:N,className:" ".concat(ie?"opacity-30 cursor-not-allowed":"opacity-70 hover:opacity-50  cursor-pointer "," absolute top-1/2 right-3 z-10 transform -translate-x-1/2 -translate-y-1/2 "),children:(0,s.jsx)(E.G,{icon:["fas","chevron-right"]})})]})})}):pe.isError?"":(0,s.jsx)("div",{className:"shadow-md dark:shadow-lg pb-5 relative px-10 h-[120px] ",children:(0,s.jsx)("div",{className:"inline-flex gap-x-6 pt-2",children:G(Array(6)).map((function(e,r){return(0,s.jsx)(I.Od,{className:"rounded-md h-[100px] w-[220px]"},r)}))})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"".concat(pe.isSuccess&&"sm:pt-32"," overflow-y-auto h-[calc(100vh-50px)] scroll-m-[100px] "),ref:R,onScroll:function(e){e.target.scrollTop>90?1!=ue&&ce(!0):0!=ue&&ce(!1)},children:(0,s.jsx)("div",{className:"flex flex-col min-h-[calc(100vh-240px)] items-stretch",children:i.cloneElement(D,q({},b,{meId:z,moduleId:Z,slides:J,index:re,task:null===J||void 0===J?void 0:J[re],taskDetailsQuery:pe,form:{register:ge,errors:ye}}))})}),pe.isSuccess&&![v.routes.RELATED_MODULE_ASSESSMENT,v.routes.MODULE_ASSESSMENT].includes(_.route)&&(0,s.jsx)("div",{onMouseEnter:be,onMouseLeave:Me,children:(0,s.jsx)(O,{meId:z,moduleId:Z,task:null===J||void 0===J?void 0:J[re],slides:J,index:re,form:{errors:ye,handleSubmit:fe,setFocus:Se,reset:xe}})})]})]})]})}var F=function(e){return(0,u.G)((0,s.jsx)(R,{children:e}))}},89811:function(e){e.exports={card:"TaskCard_card__VpROA"}},7558:function(e){e.exports="data:image/png;base64,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"}}]);