"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8727],{8289:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(85893),o=r(97375),i=r(15193),a=r(30264),c=r(67294);function u(e){var t=e.triggerButton,r=e.triggerButtonText,u=e.dialogHeader,l=e.dialogBody,s=e.failureButton,d=e.failureButtonText,f=e.successButton,m=e.successButtonText,p=e.onFailure,v=e.onSuccess,x=e.successButtonLoading,h=e.alertDialogClassName,y=void 0===h?"":h,b=(0,o.qY)(),g=b.isOpen,j=b.onOpen,S=b.onClose,k=c.useRef(),_=function(){p&&p(),S()};return(0,n.jsxs)(n.Fragment,{children:[t?c.cloneElement(t,{onClick:j}):(0,n.jsx)(i.zx,{onClick:j,children:r}),(0,n.jsx)(a.aR,{motionPreset:"slideInBottom",isCentered:!0,isOpen:g,leastDestructiveRef:k,onClose:S,children:(0,n.jsx)(a.dh,{children:(0,n.jsxs)(a._T,{className:y,children:[(0,n.jsx)(a.fY,{fontSize:"lg",fontWeight:"bold",children:u}),(0,n.jsx)(a.iP,{children:l}),(0,n.jsxs)(a.xo,{children:[s?c.cloneElement(s,{onClick:_,ref:k}):(0,n.jsx)(i.zx,{ref:k,onClick:_,children:d||"Cancel"}),f||(0,n.jsx)(i.zx,{isLoading:x,colorScheme:"red",onClick:function(){v&&v(S)},ml:3,children:m||"Confirm"})]})]})})})]})}},32153:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(85893),o=r(67294),i=r(34051),a=r.n(i),c=r(54107);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){var t=e.onChange,i=e.editorLoaded,u=e.name,d=e.value,f=e.onImageUpload,m=e.placeholder,p=e.removePlugins,v=void 0===p?[]:p,x=(0,o.useRef)(),h=x.current||{},y=h.CKEditor,b=h.ClassicEditor;(0,o.useEffect)((function(){x.current={CKEditor:r(72757).CKEditor,ClassicEditor:r(82002)}}),[]);return(0,n.jsx)(n.Fragment,{children:i?(0,n.jsx)(y,{config:{extraPlugins:[function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return function(e){return{upload:(t=a().mark((function t(){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.file;case 2:return r=t.sent,(n=new FormData).append("file",r),n.append("type","image/png"),t.abrupt("return",f({formData:n}));case 7:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){l(i,n,o,a,c,"next",e)}function c(e){l(i,n,o,a,c,"throw",e)}a(void 0)}))})};var t}(e)}}],removePlugins:s(v),placeholder:m},type:"",name:u,editor:b,data:d,onChange:function(e,r){var n=r.getData();t(n)}}):(0,n.jsx)(c.Od,{className:"h-[174px] w-full dark:bg-crio-dark-background-900"})})}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=(0,o.useState)(!1),r=t[0],i=t[1];return(0,o.useEffect)((function(){i(!0)}),[]),(0,n.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}({editorLoaded:r},e))}},9384:function(e,t,r){r.d(t,{Z:function(){return k}});var n=r(34051),o=r.n(n),i=r(85893),a=r(15193),c=r(79762),u=r(67814),l=r(95496),s=(r(67294),r(87536)),d=r(83731),f=r(29705),m=r(30634),p=r(49845),v=r(89009),x=r(20341),h=r(32153),y=r(68486),b=r(64646),g=r(2825),j=r(64126);function S(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function k(e){var t,r=e.onClose,n=e.editMode,k=e.postId,_=e.topicId,T=e.categoryId,O=e.replyToPostNumber,E=e.defaultComment,w=e.onSuccessfulCommentAdd,A=e.shouldShowCancelButton,C=e.onCancelButtonClick,I=e.submitButtonText,N=e.replyMode,P=e.replyingTo,M=e.onSuccess,D=void 0===M?function(){}:M,R=(0,s.cI)({defaultValues:{comment:E||""},resolver:(0,l.X)(f.L),mode:"all"}),Z=R.setValue,Y=R.handleSubmit,U=R.formState,L=U.errors,q=U.isSubmitting,K=R.control,Q=R.reset,G=(0,x.Z)(),F=G.isLoading,B=G.mutateAsync,H=((0,j.Z)(),function(e){return B(e)});(0,y.Z)({hoverSelector:".crio-community .ck-editor__editable",targetSelector:".crio-community .ck-toolbar_grouping",hoverClass:"border-t border-t-primary-500 border-r border-r-primary-500 border-l border-l-primary-500",leaveClass:"border-b-none"});var z=(0,v.Z)(_,(function(){return r()})),W=(0,p.Z)((function(e){try{D();var t=O?"reply-".concat(e.id):"post-".concat(e.id),r=document.getElementById(t);r&&r.scrollIntoView()}catch(n){}}),_),V=n?(0,m.e$)(z):(0,m.e$)(W),$=function(){var e,t=(e=o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}return e.next=3,z.mutateAsync({postId:k,formData:{edit_reason:null,raw:(0,m.Z6)(t.comment),topic_id:_}});case 3:e.next=9;break;case 5:return r={raw:(0,m.Z6)(t.comment),category:T,topic_id:_,nested_post:!0},O&&(r.reply_to_post_number=O),e.next=9,W.mutateAsync(r);case 9:Q(),w&&"function"===typeof w&&w();case 11:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){S(i,n,o,a,c,"next",e)}function c(e){S(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,i.jsx)("div",{className:(0,b.cn)(" crio-community comment-modal",N?"ml-6 mt-[6px] ":"",n&&N?" ml-0 mt-0":""),children:(0,i.jsxs)("form",{autoComplete:"off",className:"flex flex-col gap-1 relative ",onSubmit:Y($),children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[N&&(0,i.jsxs)("div",{className:"text-xs text-crio-black-400 ml-1",children:["Replying to ",P]}),A&&(0,i.jsx)(a.zx,{type:"ghost",className:"bg-transparent h-4 mb-1 pr-2 text-crio-black-500 dark:text-crio-dark-font-500 md:text-sm text-xs text-right ml-auto font-bold",onClick:C,children:"Cancel"})]}),(0,i.jsxs)(c.NI,{isInvalid:null===L||void 0===L||null===(t=L.comment)||void 0===t?void 0:t.message,className:"w-full",children:[(0,i.jsx)(s.Qr,{render:function(e){var t=e.field,r=t.value,n=t.ref;return(0,i.jsx)(h.Z,{onImageUpload:H,onBlur:function(e){return Z(d.jh.DISCOURSE_FORM_CONSTANTS.comment,e)},onChange:function(e){return Z(d.jh.DISCOURSE_FORM_CONSTANTS.comment,e)},ref:n,value:r,name:d.jh.DISCOURSE_FORM_CONSTANTS.comment,removePlugins:["Heading","BlockQuote"]})},name:d.jh.DISCOURSE_FORM_CONSTANTS.comment,control:K}),(0,i.jsx)(c.J1,{children:L.comment&&L.comment.message})]}),(0,i.jsx)("div",{className:"ml-auto flex gap-3",children:(0,i.jsx)(a.zx,{rightIcon:(0,i.jsx)(u.G,{icon:g.FzC,size:N?"sm":"md"}),className:(0,b.cn)("ml-auto absolute top-10 right-1 h-2 text-primary-500 hover:bg-background-200",N?"top-[76px]":"md:top-[76px] top-16"),type:"submit",variant:"ghost",isLoading:q,isDisabled:F,children:I||""})}),V&&(0,i.jsxs)("div",{className:"dark:text-black flex bg-red-100 p-2 rounded items-center gap-2 -mt-[4px]",children:[(0,i.jsx)(u.G,{icon:["fal","circle-exclamation"],className:"text-red-700"}),V]})]})})}},4938:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(85893),o=r(47398),i=r(15193),a=r(67814),c=r(20637),u=r(67294),l=r(59632),s=r.n(l),d=r(80755),f=r(64646);function m(e){var t=e.htmlString,r=(0,u.useState)([]),l=r[0],m=r[1];(0,u.useEffect)((function(){var e=(new DOMParser).parseFromString(t,"text/html");p(e),setTimeout((function(){c.Z.highlightAll()}),0)}),[t]);var p=function(e){var t=[e.documentElement.innerHTML],r=e.querySelectorAll("h1, h2, h3");Array.from(r).map((function(e){t=s()(t,e.outerHTML,(function(t,r){return(0,n.jsx)("div",{className:(0,f.cn)("text-lg font-bold my-2"),dangerouslySetInnerHTML:{__html:e.innerHTML}},t+r)}))}));var c=e.querySelectorAll("h4, h5, h6");Array.from(c).map((function(e){t=s()(t,e.outerHTML,(function(t,r){return(0,n.jsx)("div",{className:(0,f.cn)("text-base font-bold",1===r?"mb-2":"my-2"),dangerouslySetInnerHTML:{__html:e.innerHTML}},t+r)}))}));var u=e.querySelectorAll(".meta");Array.from(u).map((function(e){t=s()(t,e.outerHTML,(function(){return(0,n.jsx)(n.Fragment,{})}))}));var l=e.querySelectorAll("img");Array.from(l).map((function(e){t=s()(t,e.outerHTML,(function(){var t=e.cloneNode(),r=t.src;return(r=r.replace("http://","")).startsWith("https://")||(r="https://".concat(r)),t.setAttribute("src",r),t.removeAttribute("srcset"),t.outerHTML}))}));var p;p=e.querySelectorAll("blockquote"),Array.from(p).map((function(e){t=s()(t,e.outerHTML,(function(t,r){return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"p-4 border-l-[6px] my-4 border-gray-400 bg-gray-50 dark:bg-crio-dark-700 dark:text-gray-300",children:(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:e.innerHTML}})})},t+r)}))}));var v=e.querySelectorAll("a");Array.from(v).map((function(e){var r=e.cloneNode(!0);r.setAttribute("target","_blank"),r.setAttribute("class","text-primary-400 font-bold"),["view input","view output"].some((function(t){return e.innerHTML.toLowerCase().includes(t)}))&&r.setAttribute("onclick","window.open('".concat(e.href,"','popup','width=600,height=600'); return false;")),t=s()(t,e.outerHTML,(function(e,t){return(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:r.outerHTML}},e+t)}))}));var x=e.querySelectorAll("pre code");Array.from(x).map((function(e){t=s()(t,e.outerHTML,(function(t,r){return(0,n.jsxs)("div",{className:"rounded relative my-4 max-h-[450px] w-auto overflow-auto community-codeblock",children:[(0,n.jsx)("div",{className:"absolute top-2 right-2",children:(0,n.jsx)(o.u,{label:"Copy code",children:(0,n.jsx)(i.hU,{onClick:function(){(0,d.vQ)(e.innerHTML)},size:"xs","aria-label":"Copy code",className:"bg-gray-500 text-white",icon:(0,n.jsx)(a.G,{icon:["fas","copy"]})})})}),(0,n.jsx)("pre",{className:"",children:(0,n.jsx)("code",{dangerouslySetInnerHTML:{__html:e.innerHTML}})})]},t+r)}))}));var h=e.querySelectorAll("button");return Array.from(h).map((function(e){t=s()(t,e.outerHTML,(function(){var t=e.getAttribute("data-type"),r=e.getAttribute("data-link");return"primary"===t?(0,n.jsx)("a",{className:"block hover:no-underline my-2",target:"_blank",href:r||"#",rel:"noreferrer",children:(0,n.jsx)(i.zx,{colorScheme:"primary",children:e.innerHTML})}):(0,n.jsx)(n.Fragment,{})}))})),m(t),e};return(0,n.jsx)("div",{className:"text-sm font-normal",children:l.length>0&&(null===l||void 0===l?void 0:l.map((function(e,t){return"string"==typeof e?(0,n.jsx)("span",{dangerouslySetInnerHTML:{__html:e}},"element-1-".concat(t)):(0,n.jsx)("span",{children:e},"element-2-".concat(t))})))})}},42995:function(e,t,r){r.d(t,{Z:function(){return q}});var n=r(34051),o=r.n(n),i=r(85893),a=r(67294),c=r(88767),u=r(9473),l=r(36569),s=r(18057);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=r(47398),x=r(7657),h=r(15193),y=r(68527),b=r(67814),g=r(12195),j=r(83731),S=r(30634),k=r(97645),_=r(74931);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){O(e,t,r[t])}))}return e}function w(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=r(9384),C=r(4938),I=r(2825),N=r(92565);function P(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function M(e){var t=(0,u.I0)(),r=s.MUTATION_KEY.MUTATION_KEY_DELETE_POST,n=(0,c.useMutation)([r],(function(e){return t(l.Z.deletePost(e)).then((function(e){return e.data}))}),{onSuccess:function(){var t,r=(t=o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_.ZP.success("Successfully deleted!"),!e){t.next=4;break}return t.next=4,e(r);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){P(i,n,o,a,c,"next",e)}function c(e){P(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}(),onError:function(e){_.ZP.error("Error deleting post!")}});return n}var D=r(8289);function R(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function Z(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){R(i,n,o,a,c,"next",e)}function c(e){R(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Y(e){var t,r=e.postElementId,n=e.refetchTopic,d=e.innerRef,f=e.post,m=e.extendedInnerClassName,p=e.extendedClassName,T=e.isTypeReply,O=e.topic,P=e.isTypeComponent,R=O.category_id,U=f||{},L=U.id,q=U.cooked,K=U.actions_summary,Q=U.accepted_answer,G=U.name,F=U.username,B=U.admin,H=U.avatar_template,z=U.created_at,W=U.can_edit,V=U.can_delete,$=U.topic_id,J=U.reply_count,X=U.post_replies,ee=U.post_number,te=U.yours,re=(null===(t=null===K||void 0===K?void 0:K.find((function(e){return e.id===j.jh.DISCOURSE_POST_LIKE_COUNT_ID})))||void 0===t?void 0:t.count)||0,ne=(0,S.wX)(H),oe=z?"".concat((0,g.Z)(new Date(z),new Date)," ago"):"",ie=function(e,t){var r=(0,u.I0)(),n=s.QUERY_KEY.QUERY_KEY_GET_TOPIC,o=s.MUTATION_KEY.MUTATION_KEY_REPLIES,i=(0,c.useQueryClient)();return(0,c.useMutation)([o],(function(e){var t=e.postId;return r(l.Z.getReplies(t)).then((function(e){return e.data}))}),{onSuccess:function(r){i.setQueryData([n,String(t)],(function(t){var n,o=null===t||void 0===t||null===(n=t.post_stream)||void 0===n?void 0:n.posts,i=null===o||void 0===o?void 0:o.map((function(t){return t.id!==e?t:E({},t,{post_replies:r})}));return E({},t,{post_stream:E({},t.post_stream,{posts:w(i)})})}))},onError:function(e){_.ZP.error("Could'nt fetch replies to this post")}})}(L,$),ae=null===K||void 0===K?void 0:K.find((function(e){return e.id===j.jh.DISCOURSE_POST_LIKE_COUNT_ID})),ce=!0===(null===ae||void 0===ae?void 0:ae.acted),ue=!0===(null===ae||void 0===ae?void 0:ae.can_act)||!0===(null===ae||void 0===ae?void 0:ae.can_undo),le=(0,a.useState)(!1),se=(le[0],le[1]),de=(0,a.useState)(!1),fe=de[0],me=de[1],pe=(0,a.useState)(re),ve=(pe[0],pe[1]),xe=(0,a.useState)(!1),he=xe[0],ye=xe[1],be=(0,a.useState)(!1),ge=be[0],je=be[1],Se=M(),ke=function(){var e=Z(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(X&&Array.isArray(X)&&X.length>1)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ie.mutateAsync({postId:L});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){se(ue)}),[ue]),(0,a.useEffect)((function(){me(ce)}),[ce]);var _e=(0,k.Z)(),Te=_e.likePost,Oe=_e.dislikePost,Ee=(function(){var e=Z(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe){e.next=7;break}return me(!1),e.next=4,Oe.mutateAsync(L);case 4:ve((function(e){return e-1})),e.next=11;break;case 7:return me(!0),e.next=10,Te.mutateAsync(L);case 10:ve((function(e){return e+1}));case 11:case"end":return e.stop()}}),e)})))}(),function(){var e=Z(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.mutateAsync(L);case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return(0,i.jsxs)("div",{id:r,ref:d,className:"flex flex-col gap-[6px] w-full ".concat(T||P?"":"pr-6"," light:text-black ").concat(p||""),children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm items-center",children:[(0,i.jsxs)("div",{className:"flex gap-x-1 items-center ",children:[(0,i.jsx)(v.u,{label:F,placement:"right",children:(0,i.jsx)(x.qE,{name:G,src:ne,size:"xs"})}),(0,i.jsx)("span",{className:"font-bold text-crio-black-500 dark:text-crio-dark-font-500 ml-1",children:G||F}),(0,i.jsx)("span",{className:"text-xs font-semibold text-crio-black-300",children:oe})]}),ge?(0,i.jsx)(h.zx,{type:"ghost",className:"bg-transparent h-4 md:mb-1 pr-2 text-crio-black-400 dark:text-crio-dark-font-500 md:text-sm text-xs text-right ml-auto font-bold",onClick:function(){return je(!1)},children:"Cancel"}):(0,i.jsxs)("div",{className:"flex gap-3 text-crio-black-400 dark:text-crio-dark-font-200",children:[B&&W&&te&&(0,i.jsx)(b.G,{icon:I.Yai,className:"cursor-pointer",onClick:function(){return je(!0)}}),!B&&W&&(0,i.jsx)(b.G,{icon:I.Yai,className:"cursor-pointer",onClick:function(){return je(!0)}}),V&&(0,i.jsx)(D.Z,{alertDialogClassName:"dark:bg-crio-dark-background-700 ",triggerButton:(0,i.jsx)(b.G,{icon:N.Vui,className:"cursor-pointer"}),dialogHeader:"Remove Comment",dialogBody:(0,i.jsxs)("div",{children:["You are trying ",(0,i.jsx)("strong",{children:"delete"})," to a comment and this action cannot be undone."]}),onSuccess:Ee,successButtonLoading:Se.isLoading})]})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-y-2 ml-4 rounded-md px-3 bg-white ".concat(m||""," w-full"),children:[ge?(0,i.jsx)(A.Z,{postId:L,topicId:$,editMode:ge,categoryId:R,defaultComment:q,replyToPostNumber:ee,shouldShowCancelButton:!ge,onSuccess:function(){return ye(!1)},onClose:function(){return je(!1)},onCancelButtonClick:function(){return ye(!1)},replyMode:T,replyingTo:G||F}):(0,i.jsx)(C.Z,{htmlString:q}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[!T&&(0,i.jsx)(h.zx,{variant:"link",colorScheme:"transparent",className:"text-xs font-bold text-crio-black-400",onClick:function(){ye((function(e){return!e})),J>0&&ke()},children:"Reply"}),!T&&J>0&&(0,i.jsx)("div",{children:"\xb7"}),!T&&J>0&&(0,i.jsx)(h.zx,{variant:"link",colorScheme:"transparent",className:"text-xs font-bold text-crio-black-400",onClick:ke,children:(0,i.jsxs)("div",{children:[(null===X||void 0===X?void 0:X.length)||J," replies"]})}),Q&&(0,i.jsxs)("div",{className:"flex gap-x-2 items-center",children:[(0,i.jsx)("span",{className:"font-bold",children:"Marked as answer"}),(0,i.jsx)(b.G,{className:"text-success-400 fa-swap-opacity",icon:["fad","circle-check"]})]})]})]}),he&&(0,i.jsx)(A.Z,{postId:L,topicId:$,categoryId:R,replyToPostNumber:ee,shouldShowCancelButton:!0,onSuccess:function(){return ye(!1)},onCancelButtonClick:function(){return ye(!1)},replyMode:he,replyingTo:G||F}),null===X||void 0===X?void 0:X.map((function(e,t){return(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)(Y,{topic:O,refetchTopic:n,postElementId:"reply-".concat(e.id),post:e,isTypeReply:!0,extendedInnerClassName:"bg-secondary-50 dark:bg-crio-dark-background-900 dark:text-white",extendedClassName:"pl-8"},"reply-".concat(e.id,"-").concat(t))},"reply-".concat(e.id,"-").concat(t))})),!T&&!d&&(0,i.jsx)(y.iz,{className:"bg-background-1000 my-2"})]})}function U(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function L(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q(e){var t=e.refetchTopic,r=e.stream,n=e.topicId,d=e.posts,f=e.extendedClassName,v=e.topic,x=e.isTypeComponent,h=(0,a.useRef)(),y=(0,a.useRef)(null);y.current=d;var b=(0,a.useState)(!0),g=b[0],j=b[1],S=function(e){var t=(0,u.I0)(),r=s.QUERY_KEY.QUERY_KEY_GET_POST_IDS,n=s.QUERY_KEY.QUERY_KEY_GET_TOPIC,o=(0,c.useQueryClient)();return(0,c.useMutation)([r],(function(e){var r=e.topicId,n=e.postIds;return t(l.Z.getPostsUsingIds(r,n)).then((function(e){return e.data}))}),{onSuccess:function(t){var r=null===t||void 0===t?void 0:t.post_stream,i=null===r||void 0===r?void 0:r.posts;o.setQueryData([n,String(e)],(function(e){var t,r=null===e||void 0===e||null===(t=e.post_stream)||void 0===t?void 0:t.posts;return m({},e,{post_stream:m({},e.post_stream,{posts:p(r).concat(p(i))})})}))},onError:function(e){}})}(n),k=function(){var e,t=(e=o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.mutateAsync({topicId:t,postIds:r});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){U(i,n,o,a,c,"next",e)}function c(e){U(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),_=(0,a.useCallback)((function(e){S.isLoading||(h.current&&h.current.disconnect(),h.current=new IntersectionObserver((function(e){if(e[0].isIntersecting&&g){var t=y.current[y.current.length-1].id,o=null===r||void 0===r?void 0:r.findIndex((function(e){return e===t})),i=r.slice(o+1,o+21);0===i.length?j(!1):k(n,i)}})),e&&h.current.observe(e))}),[S.isLoading,g]);return(0,i.jsx)("div",{className:"mb-2 h-full ".concat(f||""),children:Array.isArray(d)&&d.length>0&&(null===d||void 0===d?void 0:d.map((function(e,r){return(0,a.createElement)(Y,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){L(e,t,r[t])}))}return e}({topic:v,isTypeComponent:x,refetchTopic:t},d.length===r+1?{innerRef:_}:{},{postElementId:"post-".concat(e.id),key:"post-".concat(e.id,"-").concat(r),post:e,extendedInnerClassName:"dark:bg-crio-dark-background-900 dark:text-white"}))})))})}},76317:function(e,t,r){r.d(t,{Z:function(){return M}});var n=r(85893),o=r(64646),i=r(30264),a=r(26966),c=r(7737),u=r(4612),l=r(68527),s=r(67294),d=r(74535);function f(e){var t=e.title,r=e.tags,o=e.checkedItems,i=e.handleItemCheck,a=e.isLast,c=(0,s.useState)(!1),u=c[0],f=c[1];(0,s.useEffect)((function(){r.slice(3).some((function(e){return o[e]}))&&f(!0)}),[o,r]);return(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)("div",{className:"text-[14px] text-crio-black-400 dark:text-crio-dark-font-500",children:t}),(0,n.jsxs)(l.Kq,{pl:3,mt:2,spacing:1,children:[r.slice(0,u?r.length:3).map((function(e){return(0,n.jsx)(s.Fragment,{children:(0,n.jsx)(d.Z,{label:(0,n.jsx)("div",{className:"text-[14px] text-crio-black-400 dark:text-crio-dark-font-500",children:e}),containerClassName:"justify-start gap-2",boxClassName:"w-4 h-4",isChecked:o[e],onClick:function(){return i(e)}})},e)})),r.length>3&&(0,n.jsx)("div",{buttonType:"ghost",size:"sm",className:"self-start text-xs text-crio-black-400 font-bold cursor-pointer dark:text-crio-dark-font-500",onClick:function(){u&&!r.slice(3).some((function(e){return o[e]}))?f(!1):f(!0)},children:u?"Hide":"View All"})]}),!a&&(0,n.jsx)(l.iz,{mt:2})]})}function m(e){var t=e.title,r=e.isChecked,o=e.handleItemCheck;return(0,n.jsx)(d.Z,{label:(0,n.jsx)("div",{className:"text-[14px] text-crio-black-400 dark:text-crio-dark-font-500",children:t}),containerClassName:"justify-start gap-2",boxClassName:"w-5 h-5",isChecked:r,onClick:o})}var p=r(83731),v=r(42853),x=r(77431),h=r(46129);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){var t=e.shouldShowClearBtn,r=e.handleApplyTags,o=e.handleClearAllTags,i=b((0,h.R)(),2)[1],c=(0,a.Rm)(),u=c.filterModalState,l=c.setAddPostPageNum,d=c.selectedTags,f=c.setTags,m=(0,s.useState)(!1),y=m[0],g=m[1];return(0,s.useEffect)((function(){y&&f((0,x.ZB)(d))}),[d,y]),(0,n.jsxs)(n.Fragment,{children:[(!(0,x.Zt)(d)||t)&&(0,n.jsx)(v.Z,{buttonType:"outline",text:"Clear all tags",buttonContainerClassName:"mt-10 h-9 w-[140px]",onClick:function(){o()}}),(0,n.jsx)(v.Z,{text:"Apply Tags",buttonContainerClassName:"mt-10 h-9 w-[140px] ",onClick:function(){u.filterSource===p.pf.ADD_POST?(r(),l(1)):(r(),i(),g(!0))}})]})}function j(e){var t=e.filterModalState,r=e.setFilterModalState,i=e.selectedTagsAddPostCount,a=null===t||void 0===t?void 0:t.choosenTagDetails,u=null===a||void 0===a?void 0:a.id;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"rounded-tl-xl rounded-bl-xl border border-r-0 border-crio-strokes-500 dark:border-crio-dark-stroke-500 mt-6 md:block hidden",children:[(0,n.jsx)(c.Z,{className:"bg-crio-blue-300 flex items-center justify-center h-12 text-xs font-bold rounded-tl-xl dark:text-crio-dark-font-500 dark:bg-crio-dark-background-800",children:"Category"}),(0,n.jsx)("div",{className:"",children:p.Jy.map((function(e){return(0,n.jsxs)("div",{className:(0,o.cn)("text-center py-2 text-sm cursor-pointer flex justify-center gap-2",u===e.id?"bg-background-200 dark:bg-crio-dark-background-500 dark:text-crio-dark-font-500 font-bold ":"font-normal"),onClick:function(){return function(e){r({choosenTagDetails:e,filterSource:p.pf.ADD_POST})}(e)},children:[e.title,(0,n.jsx)("span",{children:(null===i||void 0===i?void 0:i[e.id])>0&&(0,n.jsx)(c.Z,{className:"bg-crio-blue-300 px-[6px] py-[2px] rounded-full text-primary-500 font-bold text-xs",children:null===i||void 0===i?void 0:i[e.id]})})]},"".concat(e.id))}))})]})})}var S=r(67814),k=r(64126),_=r(73465);function T(e){e.filterModalState;var t=e.setFilterModalState,r=(0,s.useState)(0),i=r[0],a=r[1];return(0,n.jsx)(_.mQ,{colorScheme:"primary",className:(0,o.cn)("border-b-none"),index:i,onChange:function(e){return r=p.Jy[e],t({choosenTagDetails:r,filterSource:p.pf.ADD_POST}),void a(p.Jy.findIndex((function(e){return e.id===r.id})));var r},children:(0,n.jsx)(_.td,{className:"grid grid-cols-3 border-b border-t-none border-l-0",children:p.Jy.map((function(e,t,r){return(0,n.jsx)(_.OK,{_selected:{bg:"background.200"},className:(0,o.cn)("px-2 focus:shadow-none flex-1 pb-2 m-0 aria-selected:border-neutral-900 text-[#000000] text-sm font-nunito leading-7 dark:text-crio-dark-font-500 border-none dark:aria-selected:text-crio-dark-font-100 aria-selected:bg-crio-dark-background-600 aria-selected:font-bold",0===t?"rounded-tl-xl":"",t===r.length-1?"rounded-tr-xl":""),children:(0,n.jsx)("div",{children:e.title})},e.id)}))})})}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){E(e,t,r[t])}))}return e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(){var e=(0,a.Rm)(),t=e.tagGroupData,r=e.isTagGroupDataLoading,i=e.isTagGroupError,d=e.selectedTags,v=e.updateSelectedTags,h=e.selectedTagsAddPost,y=e.updateSelectedTagsAddPost,b=e.filterModalState,_=e.setFilterModalState,O=(0,s.useState)(null),C=O[0],I=O[1],N=(0,s.useState)(null),P=N[0],M=N[1],D=(0,s.useState)(""),R=D[0],Z=D[1],Y=(0,s.useState)(null),U=Y[0],L=Y[1],q=(0,s.useState)({}),K=q[0],Q=q[1],G=(0,s.useState)({}),F=G[0],B=G[1],H=(0,k.Z)(),z=b.choosenTagDetails;(0,s.useEffect)((function(){if(!r&&!i){var e=t.tagGroups[null===z||void 0===z?void 0:z.id],n=Array.isArray(e);if(b.filterSource!==p.pf.ADD_POST){M(e),I(!n);var o=d[null===z||void 0===z?void 0:z.id]||(e?e.reduce((function(e,t){return w({},e,E({},t,!1))}),{}):Object.entries(e).reduce((function(e,t){var r=A(t,2);return w({},e,E({},r[0],r[1].reduce((function(e,t){return w({},e,E({},t,!1))}),{})))}),{}));Q(o)}}}),[r,i,t,b,d,h]),(0,s.useEffect)((function(){if(!r&&!i&&b.filterSource!=p.pf.FILTER){var e=t.tagGroups,n={};Object.entries(e).forEach((function(e){var t=A(e,2),r=t[0],o=t[1];if(o){var i=Array.isArray(o);n[r]=i?o.reduce((function(e,t){var n;return w({},e,E({},t,!0===(null===(n=h[r])||void 0===n?void 0:n[t])))}),{}):Object.entries(o).reduce((function(e,t){var n=A(t,2),o=n[0],i=n[1];return w({},e,E({},o,i?i.reduce((function(e,t){var n,i;return w({},e,E({},t,!0===(null===(n=h[r])||void 0===n||null===(i=n[o])||void 0===i?void 0:i[t])))}),{}):{}))}),{})}else n[r]={}})),B(n)}}),[r,i,t]),(0,s.useEffect)((function(){if(b.filterSource===p.pf.ADD_POST){var e=t.tagGroups[null===z||void 0===z?void 0:z.id],r=Array.isArray(e);M(e),I(!r)}}),[null===z||void 0===z?void 0:z.id]),(0,s.useEffect)((function(){if(P){!function(){if(C){var e=Object.entries(P).reduce((function(e,t){var r=A(t,2),n=r[0],o=r[1],i=n.toLowerCase().includes(R.toLowerCase()),a=o.filter((function(e){return e.toLowerCase().includes(R.toLowerCase())}));return i&&a.length>0||i?e[n]=o:a.length>0&&(e[n]=a),e}),{});L(e)}else{var t=P.filter((function(e){return e.toLowerCase().includes(R.toLowerCase())}));L(t)}}()}}),[R,P,C]);var W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(b.filterSource===p.pf.FILTER){var r,n,o=K||{};if(C)r=w({},o,E({},e,w({},o[e]||{},E({},t,!(null===(n=o[e])||void 0===n?void 0:n[t])))));else r=w({},o,E({},e,!o[e]));Q(r)}else{var i,a,c=F[null===z||void 0===z?void 0:z.id]||{};if(C)i=w({},c,E({},e,w({},c[e]||{},E({},t,!(null===(a=c[e])||void 0===a?void 0:a[t])))));else i=w({},c,E({},e,!c[e]));B((function(e){return w({},e,E({},null===z||void 0===z?void 0:z.id,i))}))}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:(0,o.cn)("grid ",b.filterSource===p.pf.ADD_POST?"md:grid-cols-[1fr_2fr] grid-cols-1":"grid-cols-1"),children:[b.filterSource===p.pf.ADD_POST&&(0,n.jsx)(j,{filterModalState:b,selectedTagsAddPostCount:(0,x.a9)(F),setFilterModalState:_}),(0,n.jsxs)("div",{className:(0,o.cn)("border border-crio-strokes-500 dark:border-crio-dark-stroke-500 mt-6",b.filterSource===p.pf.ADD_POST?"md:rounded-tr-xl md:rounded-br-xl rounded-xl md:rounded-bl-none md:rounded-tl-none":"rounded-xl"),children:[H?(0,n.jsx)(T,{setFilterModalState:_}):(0,n.jsx)(c.Z,{className:(0,o.cn)("bg-crio-blue-300 flex dark:bg-crio-dark-background-800 items-center justify-center h-12 text-xs font-bold",b.filterSource===p.pf.ADD_POST?"md:rounded-tr-xl":"rounded-t-xl"),children:null===z||void 0===z?void 0:z.title}),(0,n.jsx)("div",{className:"px-6 py-3",children:(0,n.jsxs)(u.BZ,{className:"rounded-md h-8 mb-1 border border-crio-strokes-300 items-center dark:border-crio-dark-stroke-500",children:[(0,n.jsx)(S.G,{className:"text-crio-black-300 pl-4 pr-2 dark:text-crio-dark-font-400",icon:["far","magnifying-glass"],size:"xs"}),(0,n.jsx)(u.II,{colorScheme:"primary",placeholder:(0,x.G7)(z),variant:"unstyled",autoComplete:"off",value:R,className:"placeholder-gray-500 dark:placeholder-gray-200 placeholder:text-crio-black-300 placeholder:font-semibold placeholder:text-xs dark:placeholder:text-crio-dark-font-400",autoFocus:!0,size:"md",onChange:function(e){return Z(e.target.value)}})]})}),(0,n.jsx)("div",{className:"h-[340px] overflow-scroll",children:function(){if(r)return"Loading";if(i||!P)return"No Tags Found";var e=U||P;if(C)return(0,n.jsx)("div",{className:"px-6 pb-3 flex flex-col gap-2",children:Object.entries(e).map((function(t,r){var o,i=A(t,2),a=i[0],c=i[1];return(0,n.jsx)("div",{className:"",children:(0,n.jsx)(f,{title:a,tags:Array.isArray(c)?c:[],checkedItems:b.filterSource===p.pf.ADD_POST?(null===(o=F[null===z||void 0===z?void 0:z.id])||void 0===o?void 0:o[a])||{}:K[a]||{},handleItemCheck:function(e){return W(a,e)},isLast:r===Object.entries(e).length-1})},a)}))});var t=Array.isArray(e)?e:[];return(0,n.jsx)("div",{className:"px-6 py-3 flex flex-col gap-2",children:t.map((function(e){var t;return(0,n.jsx)("div",{children:(0,n.jsx)(m,{title:e,isChecked:b.filterSource===p.pf.ADD_POST?(null===(t=F[null===z||void 0===z?void 0:z.id])||void 0===t?void 0:t[e])||!1:K[e]||!1,handleItemCheck:function(){return W(e)}})},e)}))})}()})]})]}),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.iz,{className:"mt-2 absolute bottom-[72px] border-crio-strokes-500 right-[1px]"}),(0,n.jsx)("div",{className:"flex ".concat(b.filterSource===p.pf.ADD_POST?(0,x.Zt)(F)?"justify-end":"justify-between":(0,x.Zt)(d)&&(0,x.Zt)(K)?"justify-end":"justify-between"),children:(0,n.jsx)(g,{shouldShowClearBtn:b.filterSource===p.pf.ADD_POST?!(0,x.Zt)(F):!(0,x.Zt)(K),handleApplyTags:function(){b.filterSource===p.pf.ADD_POST?y(F):v(null===z||void 0===z?void 0:z.id,K)},handleClearAllTags:function(){if(b.filterSource===p.pf.ADD_POST){var e=(0,x.jO)(F);B(e)}else{var t=(0,x.YA)(d,null===z||void 0===z?void 0:z.id);v(null===z||void 0===z?void 0:z.id,t[null===z||void 0===z?void 0:z.id])}}})})]})]})}function I(e){var t=e.currentTag;return(0,n.jsxs)("div",{className:"text-crio-black-500 md:text-2xl font-bold dark:text-crio-dark-font-500",children:["Filter posts with ",(null===t||void 0===t?void 0:t.title)||""]})}function N(e){var t=e.setAddPostPageNum;return(0,n.jsxs)("div",{className:"grid grid-cols-[24px_1fr] grid-rows-2",children:[(0,n.jsx)(S.G,{icon:"fa-solid fa-arrow-left",className:"self-center cursor-pointer",onClick:function(){return t(1)}}),(0,n.jsx)("div",{className:"text-crio-black-500 md:text-2xl font-bold dark:text-crio-dark-font-500",children:"Add tags to your question"}),(0,n.jsx)("div",{className:"text-crio-black-400 font-semibold text-xs col-[2_/_-1] dark:text-crio-dark-font-400",children:"Select tags according to the category and the subcatergory you see in the list below"})]})}function P(){var e=(0,a.Rm)(),t=e.setAddPostPageNum,r=e.filterModalState,o=void 0===r?{}:r,i=o.filterSource,c=o.choosenTagDetails;return function(){switch(i){case p.pf.FILTER:return(0,n.jsx)(I,{currentTag:c});case p.pf.ADD_POST:return(0,n.jsx)(N,{setAddPostPageNum:t});default:return null}}()}function M(){var e=(0,a.Rm)().filterModalState;return(0,n.jsxs)(i.hz,{className:(0,o.cn)(" px-3 py-4 md:p-6 md:pt-5 md:pb-4 mx-2 bg-white rounded-xl ","dark:bg-crio-dark-700 shadow-none border-[1px] relative",e.filterSource===p.pf.ADD_POST?" max-w-[900px]":" max-w-[600px]"),children:[(0,n.jsx)(P,{}),(0,n.jsx)(C,{})]})}},47223:function(e,t,r){r.d(t,{Z:function(){return re}});var n=r(34051),o=r.n(n),i=r(85893),a=r(97375),c=r(92684),u=r(46052),l=r(15193),s=r(30264),d=r(79762),f=r(4612),m=r(68527),p=r(67814),v=r(67294),x=r(64126),h=r(83731),y=r(88767),b=r(9473),g=r(36569),j=r(18057);var S=r(87536),k=r(95496),_=r(29705),T=r(74931),O=r(49845);function E(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){E(i,n,o,a,c,"next",e)}function c(e){E(i,n,o,a,c,"throw",e)}a(void 0)}))}}var A=r(96486),C=r(89009),I=r(32153),N=r(26966),P=r(30634),M=r(56766),D=r(11163),R=r(95635);var Z=r(82961),Y=r(93282),U=r(20341),L=r(92818),q=r(7737),K=r(46129),Q=r(42853),G=r(76317),F=r(26171),B=r(77431),H=r(68486);function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function V(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){W(i,n,o,a,c,"next",e)}function c(e){W(i,n,o,a,c,"throw",e)}a(void 0)}))}}function $(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){$(e,t,r[t])}))}return e}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(u){c=!0,o=u}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}}(e,t)||te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"===typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}function re(e){var t,r,n,E,z,W,$,te,re,ne,oe,ie,ae,ce,ue=e.triggerButton,le=e.editMode,se=e.defaultData,de=e.forceShowEditModal,fe=e.modalHeading,me=e.refetchSearchResults,pe=(0,a.qY)(),ve=pe.isOpen,xe=pe.onOpen,he=pe.onClose,ye=(0,x.Z)(),be=(0,v.useState)(ye?"full":"sm"),ge=be[0],je=be[1],Se=(0,v.useState)(!1),ke=Se[0],_e=Se[1],Te=X((0,K.R)(),2),Oe=(Te[0],Te[1],(0,N.Rm)()),Ee=Oe.query,we=(Oe.filterModalState,Oe.setFilterModalState),Ae=Oe.addPostPageNum,Ce=Oe.setAddPostPageNum,Ie=Oe.setSelectedTagsAddPost,Ne=Oe.selectedTagsAddPost,Pe=(X((0,c.ac)("(min-width: 1000px)",{ssr:!0,fallback:!1}),1)[0],(0,U.Z)()),Me=Pe.isLoading,De=Pe.mutateAsync,Re=function(e){return De(e)};(0,H.Z)({hoverSelector:".create-post .ck-editor__editable",targetSelector:".create-post .ck-toolbar_grouping",hoverClass:"border-t border-t-primary-500 border-r border-r-primary-500 border-l border-l-primary-500",leaveClass:"border-b-none",customReaction:[ve,Ae]});var Ze=(0,D.useRouter)(),Ye=Ze.query,Ue=Ye.moduleId,Le=Ye.taskId,qe=Ye.askQueryOpen;(0,v.useEffect)((function(){qe&&xe()}),[qe]);var Ke=(0,O.Z)((function(e){if(Ue)lt(),me&&me();else{var t=null===e||void 0===e?void 0:e.topic_slug,r=null===e||void 0===e?void 0:e.topic_id;Ze.push({pathname:Y.routes.CRIO_COMMUNITY_TOPIC,query:{topicSlug:t,topicId:r}})}})),Qe=(0,C.Z)(),Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=(0,b.I0)(),r=j.MUTATION_KEY.MUTATION_KEY_EDIT_TOPIC;return(0,y.useMutation)([r],(function(e){var r=e.topicSlug,n=e.topicId,o=e.formData;return t(g.Z.editTopic(r,n,o)).then((function(e){return e.data}))}),{onSuccess:w(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e();case 1:case"end":return t.stop()}}),t)}))),onError:function(e){}})}(he),Fe=le?null===(t=Ge.error)||void 0===t||null===(r=t.response)||void 0===r||null===(n=r.data)||void 0===n||null===(E=n.errors)||void 0===E?void 0:E.join(" & "):null===(z=Ke.error)||void 0===z||null===(W=z.response)||void 0===W||null===($=W.data)||void 0===$||null===(te=$.errors)||void 0===te?void 0:te.join(" & "),Be=(0,y.useQueryClient)(),He=j.QUERY_KEY.QUERY_KEY_GET_TOPIC,ze=(0,b.v9)((function(e){return e.generalReducer.isUserAdminOnDiscourse})),We=function(){return!!de||(!h.jh.ADD_NEW_QUERY_BLACK_LISTED_CATEGORIES.includes(null===Ee||void 0===Ee?void 0:Ee.category)||ze)},Ve=((0,u.Fg)().palette.mode,(0,S.cI)({defaultValues:{category:(null===se||void 0===se?void 0:se.category)||h.jh.INTERVIEW_CATEGORY,subCategory:(null===se||void 0===se?void 0:se.subCategory)||{},tags:(null===se||void 0===se?void 0:se.tags)||[],title:(null===se||void 0===se?void 0:se.title)||"",query:(null===se||void 0===se?void 0:se.query)||""},resolver:(0,k.X)(_.j),mode:"all"})),$e=Ve.reset,Je=Ve.setValue,Xe=Ve.handleSubmit,et=Ve.register,tt=Ve.formState,rt=tt.errors,nt=tt.isSubmitting,ot=Ve.control,it=Ve.watch;(0,v.useEffect)((function(){le&&$e(se)}),[se]);var at=it("category"),ct=it("subCategory"),ut=(0,Z.Z)(null===ct||void 0===ct?void 0:ct.value),lt=function(){he(),$e(),Ie([]),Ce(1)},st=(0,b.v9)((function(e){var t;return null===(t=e.meReducer)||void 0===t?void 0:t.userMeList})),dt=(ee((null===(re=null===st||void 0===st?void 0:st.filter((function(e){return e.meType==M.EMeTypes.ME_TYPE_BYTE||e.meType==M.EMeTypes.ME_TYPE_MICRO_EXPERIENCE})))||void 0===re?void 0:re.reduce((function(e,t){return e.push({label:t.meTitle,value:t.meId}),e}),[]))||[]).concat(ee(h.jh.CATEGORY_SELECT)),function(){var e=(0,b.I0)(),t=j.MUTATION_KEY.MUTATION_KEY_MODULE_DETAILS_BY_ME_ID;return(0,y.useMutation)([t],(function(t){var r=t.meId;return e(R.Z.fetchEnrolledModuleDetail(r)).then((function(e){return e.data}))}))}());null===(ne=dt.data)||void 0===ne||null===(oe=ne.userModuleDetailsList)||void 0===oe||oe.reduce((function(e,t){return t.userModuleDetails.userModuleProgress.moduleStatus!==L.EModuleStatus.MODULE_STATUS_LOCKED&&e.push({label:"".concat(t.userModuleDetails.moduleDetails.moduleName,": ").concat(t.userModuleDetails.moduleDetails.moduleTitle),value:t.moduleId}),e}),[]);(0,v.useEffect)((function(){var e=function(){var e=V(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:at!==h.jh.INTERVIEW_CATEGORY?dt.mutateAsync({meId:at}):Je("subCategory",h.jh.SUBCATEGORY_OPTIONS[0]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[at,Je]);var ft=function(){var e=(0,b.I0)(),t=j.QUERY_KEY.QUERY_KEY_GET_TAGS;return(0,y.useQuery)([t],(function(){return e(g.Z.getTags()).then((function(e){return e.data}))}),{onError:function(e){},cacheTime:3e5,staleTime:3e5})}(),mt=ft.data,pt=(ft.isFetching,null===mt||void 0===mt||null===(ie=mt.tags)||void 0===ie||ie.map((function(e){return{label:e.id,value:e.id}})),function(){var e=V(o().mark((function e(t){var r,n,i,a,c,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,at!==h.jh.INTERVIEW_CATEGORY){e.next=6;break}(null===Ee||void 0===Ee?void 0:Ee.category)===h.jh.CATEGORIES.INTERVIEW_QUESTIONS?r=7:(null===Ee||void 0===Ee?void 0:Ee.category)===h.jh.CATEGORIES.CRIO_LEARNERS_CORNER&&(r=4976),e.next=11;break;case 6:return e.next=9,ut.refetch();case 9:a=e.sent,r=null===a||void 0===a||null===(n=a.data)||void 0===n||null===(i=n.category)||void 0===i?void 0:i.id;case 11:if(r){e.next=14;break}return T.ZP.error("You are not yet allowed to post in the selected sub category. If issue persists, kindly reach out to support"),e.abrupt("return");case 14:if(c=(0,B.eR)(Ne),Le&&c.push(Le),u={title:t.title,category:r,raw:(0,P.Z6)(t.query),tags:c},l=(0,A.omit)(u,"raw"),!le){e.next=27;break}return e.next=21,Ge.mutateAsync({topicId:se.topicId,topicSlug:se.topicSlug,formData:l});case 21:return e.next=23,Qe.mutateAsync({postId:se.mainPostId,formData:{edit_reason:null,raw:(0,P.Z6)(t.query)}});case 23:return e.next=25,Be.refetchQueries({queryKey:[He,String(se.topicId)]});case 25:e.next=29;break;case 27:return e.next=29,Ke.mutateAsync(u);case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(0);case 34:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(t){return e.apply(this,arguments)}}());return(0,i.jsxs)(i.Fragment,{children:[We()&&ue?v.cloneElement(ue,{onClick:function(){xe()}}):We()&&(0,i.jsxs)("div",{className:"flex w-full justify-between items-center py-3 fixed bottom-0 md:bg-white left-0 px-24 md:px-12 lg:pl-[130px] lg:pr-[154px] md:shadow-[0px_-2px_23.6px_0px_#EAEAEA] dark:shadow-none dark:bg-crio-dark-background-900",children:[(0,i.jsx)(q.Z,{className:"text-lg font-bold text-crio-black-500 ml-20 lg:whitespace-nowrap dark:text-crio-dark-font-500 md:block hidden",children:"Want to make a post on interview questions and help out the community?"}),(0,i.jsx)(l.zx,{className:"bg-primary-500 md:mx-0 mx-auto text-white h-9 font-bold text-xs md:text-base lg:px-6 md:px-6 px-10",onClick:xe,children:"Post interview question"})]}),(0,i.jsxs)(s.u_,{size:ge,onClose:function(){he(),Ce(1)},isOpen:ve,children:[(0,i.jsx)(s.ZA,{}),1==Ae?(0,i.jsxs)(s.hz,{maxW:"full"==ge||ye?"auto":"1000px",maxH:"full"==ge?"auto":"95vh",className:"bg-crio-background-100 dark:bg-crio-dark-background-700 crio-community overflow-scroll my-auto",children:[(0,i.jsxs)(s.xB,{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"text-2xl font-bold dark:text-crio-dark-font-500",children:fe||(le?"Edit topic":"Post interview question in ".concat((null===Ee||void 0===Ee?void 0:Ee.category)===h.jh.CATEGORIES.CRIO_LEARNERS_CORNER?"Crio Learners Corner":"Expert Posts"))}),(0,i.jsxs)("div",{className:"flex gap-x-2",children:[!ye&&(0,i.jsx)(l.hU,{className:"bg-transparent",icon:(0,i.jsx)(p.G,{icon:"full"===ge?["far","down-left-and-up-right-to-center"]:["far","up-right-and-down-left-from-center"]}),onClick:function(){return je((function(e){return"full"!=e?"full":"6xl"}))}}),(0,i.jsx)(l.hU,{className:"bg-transparent",onClick:lt,icon:(0,i.jsx)(p.G,{icon:"fa-solid fa-xmark",size:"xl"})})]})]}),(0,i.jsx)(s.fe,{className:"px-0",children:(0,i.jsxs)("form",{autoComplete:"off",className:"flex flex-col gap-4 h-full relative",onSubmit:Xe(pt),children:[(0,i.jsxs)("div",{className:"flex flex-col mb-3 px-6",children:[(0,i.jsx)("div",{className:"font-semibold dark:text-crio-dark-font-500",children:"Title of your query"}),(0,i.jsx)("div",{className:"text-sm text-crio-black-400 font-semibold mb-4 dark:text-crio-dark-font-400",children:"Be specific and imagine you\u2019re asking a question to another person. Minimum 15 characters."}),(0,i.jsxs)(d.NI,{isInvalid:null===rt||void 0===rt||null===(ae=rt.title)||void 0===ae?void 0:ae.message,children:[ke&&(0,i.jsx)(d.lX,{className:"absolute dark:hidden text-sm text-gray-500 duration-300 transform -translate-y-4 scale-75 top-2 z-10 origin-[0] bg-white dark:bg-crio-dark-background-700 px-2 left-3 transition-all ease-in-out",children:"Question Title"}),(0,i.jsx)(f.II,J({},et("title"),{placeholder:"Type your question title here",className:"h-[46px] rounded-xl focus:outline-none focus:shadow-none focus:border-primary-500 dark:focus:border-crio-strokes-500 bg-white text-sm dark:bg-crio-dark-background-900 dark:placeholder:text-sm dark:placeholder:font-normal",_placeholder:{color:"#9E9E9E",fontSize:"12px",lineHeight:"16px",fontFamily:"nunito"},onFocus:function(){return _e(!0)},onBlur:function(){return _e(!1)}})),(0,i.jsx)(d.J1,{children:rt.title&&rt.title.message})]})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-1 px-6 create-post",children:[(0,i.jsx)("p",{className:"font-semibold",children:"Describe your query"}),(0,i.jsx)("p",{className:"text-sm text-crio-black-400 font-semibold mb-4",children:"Introduce the problem and expand on what you put in the title. Minimum 20 characters."}),(0,i.jsxs)(d.NI,{isInvalid:null===rt||void 0===rt||null===(ce=rt.query)||void 0===ce?void 0:ce.message,children:[(0,i.jsx)(S.Qr,{render:function(e){var t=e.field,r=t.value,n=t.ref;return(0,i.jsx)(I.Z,{onImageUpload:Re,placeholder:"Type your question explanation here",onBlur:function(e){return Je(h.jh.DISCOURSE_FORM_CONSTANTS.query,e)},onChange:function(e){return Je(h.jh.DISCOURSE_FORM_CONSTANTS.query,e)},ref:n,value:r,name:h.jh.DISCOURSE_FORM_CONSTANTS.query})},name:h.jh.DISCOURSE_FORM_CONSTANTS.query,control:ot}),(0,i.jsx)(d.J1,{children:rt.query&&rt.query.message})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"mt-6 flex md:flex-row flex-col items-start md:gap-6 gap-3 text-base font-semibold dark:text-crio-dark-font-500",children:[(0,i.jsx)("div",{children:"Add tags to categories your question and help others easily find your question"}),(0,i.jsx)(Q.Z,{buttonType:"outline",buttonContainerClassName:"px-4 h-7 ",textContainerClassName:"text-xs font-bold",text:(0,B.Zt)(Ne)?"Add Tags":"Edit Tags",onClick:function(){Ce(2),we({choosenTagDetails:h.Jy[0],filterSource:h.pf.ADD_POST})}})]}),(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)(F.Z,{tags:(0,B.eR)(Ne),isAddingTagsForPost:!0})})]})]}),(0,i.jsx)(m.iz,{className:"border-crio-strokes-500 dark:border-crio-dark-background-500"}),(0,i.jsx)("div",{className:"flex justify-between px-6 ".concat(Ke.error?"":"mb-6"),children:(0,i.jsx)(l.zx,{colorScheme:"primary",isLoading:nt,type:"submit",disabled:Me,className:"ml-auto dark:bg-crio-blue-400 dark:text-crio-white-500",children:"Post Question"})}),Fe&&(0,i.jsxs)("div",{className:"dark:text-black flex bg-red-100 p-2 rounded items-center gap-2 -mt-[8px]",children:[(0,i.jsx)(p.G,{icon:["fal","circle-exclamation"],className:"text-red-700"}),Fe]})]})})]}):(0,i.jsx)(G.Z,{})]})]})}},26171:function(e,t,r){r.d(t,{Z:function(){return f}});var n,o=r(85893),i=r(83731),a=r(26966),c=r(77431),u=r(64646),l=r(64126),s=r(47398),d=r(67294);function f(e){var t=e.tags,r=e.isHovered,f=e.isAddingTagsForPost,m=(0,a.Rm)(),p=m.tagGroupData,v=m.isTagGroupDataLoading,x=m.isTagGroupError,h=(0,d.useRef)({}),y=(0,l.Z)(),b=(0,l.Z)(1300),g=(0,l.Z)(1e3),j=(0,d.useRef)(null),S=(0,d.useState)([]),k=S[0],_=S[1],T=(0,d.useState)(!1),O=T[0],E=T[1],w=(0,d.useState)([]),A=w[0],C=w[1],I=(0,d.useState)(null),N=I[0],P=I[1];(0,d.useEffect)((function(){if(!x&&!v){var e=4;b&&(e=3),g&&(e=1);var r=t.filter((function(e){return!e.startsWith("difficulty-")})),n=t.find((function(e){return e.startsWith("difficulty-")}));n&&P(n.split("-")[1]),_(r.slice(0,e)),C(r.slice(e))}}),[t,b,g,v,x]);var M;return x||v?null:(0!==k.length||!y)&&(0,o.jsx)(d.Fragment,{children:(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",ref:j,children:[N&&(0,o.jsx)("div",{className:(0,u.cn)("px-3 py-1 rounded-full text-xs font-bold flex items-center",i.qF[N]),children:N}),k.map((function(e,t){return(0,o.jsxs)("div",{className:(0,u.cn)("px-3 py-1 rounded-full text-xs font-bold flex items-center ",r?"bg-crio-blue-300 text-crio-blue-500 dark:bg-crio-dark-stroke-500 dark:text-crio-dark-font-500 border border-primary-500 dark:border-0":f?"bg-crio-blue-300 border-crio-blue-400 text-sm font-semibold text-crio-black-500":"bg-crio-strokes-400 dark:bg-crio-dark-stroke-500 text-crio-black-400 dark:text-crio-dark-font-500 border border-crio-strokes-500 dark:border-0"),ref:null!==(M=(n=h.current)[e])&&void 0!==M?M:n[e]={current:null},children:[(0,c.Of)(e,p)," ",e]},"".concat(e).concat(t))})),A.length>0&&(0,o.jsx)(s.u,{className:"bg-[#303030] text-white flex flex-col gap-1 p-3",label:A.map((function(e){return(0,o.jsx)("div",{className:"flex flex-col",children:(0,o.jsxs)("span",{children:[(0,c.Of)(e,p)," ",e]})},e)})),isOpen:O,children:(0,o.jsxs)("div",{className:(0,u.cn)("text-crio-black-400 text-sm font-bold cursor-pointer dark:text-crio-black-200"),onClick:function(){return E(!O)},children:["+",A.length," more"]})})]})})}},29705:function(e,t,r){r.d(t,{L:function(){return i},j:function(){return o}});var n=r(74231),o=n.Ry({category:n.Z_().required("Category is required"),subCategory:n.Ry().required("Sub Category is required").typeError("Sub Category is required"),tags:n.IX(),title:n.Z_().required("Title is required").min(10,"Title should be minium 10 characters long"),query:n.Z_().required("Query is required").min(20,"Query should be minimum 20 characters long")}),i=n.Ry({comment:n.Z_().required("Comment is required").min(15,"Comment should be minimum 15 characters long")})},7737:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(85893),o=r(68527),i=(r(67294),r(9442));function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function u(e){var t=e.as,r=e.type,u=e.fontWeight,l=e.className,s=e.children,d=c(e,["as","type","fontWeight","className","children"]);return(0,n.jsx)(o.xv,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){a(e,t,r[t])}))}return e}({as:t,className:(0,i.cn)(function(e){switch(e){case"subtitle":return"text-[14px] md:text-[18px] leading-[1.5] md:leading-[24px]";case"subtitle-sm":return"text-[12px] md:text-[16px] leading-[1.25] md:leading-[20px]";case"body":return"text-[12px] md:text-[14px] md:leading-[1.25] leading-[20px]";case"caption":return"text-[10px] md:text-[12px] leading-[12px] md:leading-[16px]";default:return"text-[10px] leading-[12px]"}}(r),l),fontWeight:u},d,{children:s}))}},49845:function(e,t,r){r.d(t,{Z:function(){return p}});var n=r(34051),o=r.n(n),i=r(88767),a=r(9473),c=r(36569),u=r(18057);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){d(e,t,r[t])}))}return e}function m(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){var r=(0,a.I0)(),n=u.MUTATION_KEY.MUTATION_KEY_CREATE_TOPIC,l=u.QUERY_KEY.QUERY_KEY_GET_TOPIC,d=(0,i.useQueryClient)(),p=(0,i.useMutation)([n],(function(e){return r(c.Z.createPostOrTopic(e)).then((function(e){return e.data}))}),{onSuccess:function(){var r,n=(r=o().mark((function r(n){var i,a,c;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=null===n||void 0===n?void 0:n.action,a=null===n||void 0===n?void 0:n.post,c=null===a||void 0===a?void 0:a.reply_to_post_number,"create_post"!==i){r.next=16;break}if(!c){r.next=12;break}return r.next=7,d.setQueryData([l,String(t)],(function(e){var t,r=null===e||void 0===e||null===(t=e.post_stream)||void 0===t?void 0:t.posts,n=null===r||void 0===r?void 0:r.find((function(e){return e.post_number===c})),o=[];o=n.post_replies?m(n.post_replies).concat([a]):[a],n.post_replies=o;var i=m(r);return a&&(i=[a].concat(m(r))),f({},e,{post_stream:f({},e.post_stream,{posts:i})})}));case 7:if(!e){r.next=10;break}return r.next=10,e(a);case 10:r.next=14;break;case 12:return r.next=14,d.setQueryData([l,String(t)],(function(e){return f({},e,{post_stream:f({},e.post_stream,{posts:[a].concat(m(e.post_stream.posts))})})}));case 14:r.next=17;break;case 16:e&&e(n);case 17:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){s(i,n,o,a,c,"next",e)}function c(e){s(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),onError:function(e){}});return p}},29379:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(34051),o=r.n(n),i=r(74931),a=r(88767),c=r(9473),u=r(36569),l=r(18057);function s(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function d(e){var t=(0,c.I0)(),r=l.MUTATION_KEY.MUTATION_KEY_DELETE_TOPIC,n=(0,a.useMutation)([r],(function(e){var r=e.context,n=e.topicId;return t(u.Z.deleteTopic(r,n)).then((function(e){return e.data}))}),{onSuccess:function(){var t,r=(t=o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.ZP.success("Successfully deleted!"),!e){t.next=4;break}return t.next=4,e(r);case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){s(i,n,o,a,c,"next",e)}function c(e){s(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}(),onError:function(e){i.ZP.error("Error deleting topic!")}});return n}},82961:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(34051),o=r.n(n),i=r(88767),a=r(9473),c=r(36569),u=r(18057);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(){var e=(0,a.I0)(),t=u.MUTATION_KEY.MUTATION_KEY_SYNC_MODULE,r=u.MUTATION_KEY.MUTATION_KEY_CATEGORY,n=(0,i.useQueryClient)(),o=(0,i.useMutation)([t],(function(t){var r=t.moduleId;return e(c.Z.syncUserToModule(r)).then((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){l(e,t,r[t])}))}return e}({},e.data,{moduleId:r})}))}),{onSuccess:function(e){var t=e.moduleId;n.refetchQueries([r,t])},onError:function(e){}});return o}function d(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function f(e){var t=(0,a.I0)(),r=u.MUTATION_KEY.MUTATION_KEY_CATEGORY,n=s(),l=(0,i.useQuery)([r,e],(function(){return t(c.Z.getCategoryByModuleId("C_".concat(e).toLowerCase().replaceAll("_","-"))).then((function(e){return e.data}))}),{onError:function(){var t,r=(t=o().mark((function t(r){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==l.errorUpdateCount){t.next=4;break}return t.next=4,n.mutateAsync({moduleId:e});case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){d(i,n,o,a,c,"next",e)}function c(e){d(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}(),enabled:!1});return l}},89009:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(34051),o=r.n(n),i=r(88767),a=r(9473),c=r(36569),u=r(18057);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,c,"next",e)}function c(e){s(i,n,o,a,c,"throw",e)}a(void 0)}))}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}function p(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=(0,a.I0)(),n=u.MUTATION_KEY.MUTATION_KEY_EDIT_POST,l=u.QUERY_KEY.QUERY_KEY_GET_TOPIC,s=(0,i.useQueryClient)(),f=(0,i.useMutation)([n],(function(e){var t=e.postId,n=e.formData;return r(c.Z.editPost(t,n)).then((function(e){return e.data}))}),{onSuccess:function(){var r=d(o().mark((function r(n){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=null===n||void 0===n?void 0:n.post,1!==(null===i||void 0===i?void 0:i.post_number)&&s.setQueryData([l,String(e)],(function(e){var t,r=null===e||void 0===e||null===(t=e.post_stream)||void 0===t?void 0:t.posts,n=null===r||void 0===r?void 0:r.findIndex((function(e){return e.id===i.id}));r[n]=i;var o=p(r),a=i.reply_to_post_number;if(a){var c=o.find((function(e){return e.post_number===a})),u=null===c||void 0===c?void 0:c.post_replies;if(u){var l=u.findIndex((function(e){return e.id===i.id}));u[l]=i}}return m({},e,{post_stream:m({},e.post_stream,{posts:o})})})),t();case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),onError:function(e){}});return f}},97645:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(74931),o=r(88767),i=r(9473),a=r(36569),c=r(18057);function u(){var e=(0,i.I0)(),t=c.MUTATION_KEY.MUTATION_KEY_LIKE_POST;return{likePost:(0,o.useMutation)([t],(function(t){return e(a.Z.likePost(t)).then((function(e){return e.data}))}),{onSuccess:function(e){},onError:function(e){n.ZP.error(e.response.data.errors.join(" & "),"error")}}),dislikePost:(0,o.useMutation)([t],(function(t){return e(a.Z.unlikePost(t)).then((function(e){return e.data}))}),{onSuccess:function(e){},onError:function(e){n.ZP.error(e.response.data.errors.join(" & "),"error")}})}}},41067:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(34051),o=r.n(n),i=r(88767),a=r(36569),c=r(18057);function u(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function l(e,t){var r,n=c.QUERY_KEY.QUERY_KEY_GET_MODULE_NAME,l=(0,i.useQuery)([n,e,t],(r=o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",a.Z.getModuleTitle(e,t).then((function(e){return e.data})));case 1:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))}),{onError:function(e){console.error(e)},enabled:Boolean(e)&&Boolean(t)});return null===l||void 0===l?void 0:l.data}},61338:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(34051),o=r.n(n),i=r(88767),a=r(36569),c=r(18057);function u(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function l(e){var t,r=c.QUERY_KEY.QUERY_KEY_SHOW_CATEGORY,n=(0,i.useQuery)([r,e],(t=o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",a.Z.getCategory(e).then((function(e){return e.data})));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))}),{onError:function(e){console.error(e)},enabled:Boolean(e)});return{categoryResponse:null===n||void 0===n?void 0:n.data,isSuccess:null===n||void 0===n?void 0:n.isSuccess}}},18794:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(74931),o=r(88767),i=r(9473),a=r(36569),c=r(18057),u=r(11163),l=r(93282);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}function f(e){var t=(0,i.I0)(),r=(0,u.useRouter)(),s=c.QUERY_KEY.QUERY_KEY_GET_TOPIC;return(0,o.useQuery)([s,e],(function(){return t(a.Z.getTopic(e)).then((function(e){var t=e.data,r=null===t||void 0===t?void 0:t.post_stream,n=null===r||void 0===r?void 0:r.posts,o=null===r||void 0===r?void 0:r.stream,i=n.find((function(e){return 1===e.post_number})),a=o.filter((function(e){return e!=i.id}));return d({},t,{post_stream:d({},t.post_stream,{stream:a})})}))}),{onError:function(e){var t,o,i=null===(t=e.response)||void 0===t?void 0:t.data,a=null===i||void 0===i?void 0:i.error_type,c=null===i||void 0===i||null===(o=i.errors)||void 0===o?void 0:o.join(", ");n.ZP.error(c),"not_found"===a&&r.replace({pathname:l.routes.CRIO_COMMUNITY})},enabled:Boolean(e)})}},20341:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(88767),o=r(9473),i=r(36569),a=r(18057),c=r(74931);function u(){var e=(0,o.I0)(),t=a.MUTATION_KEY.MUTATION_KEY_UPLOAD_IMAGE,r=(0,n.useMutation)([t],(function(t){return e(i.Z.uploadImage(t.formData)).then((function(e){return e.data})).then((function(e){return{default:"https://".concat(e.url.replace("//",""))}}))}),{onError:function(e){c.ZP.error("Could not upload image, please try again.")}});return{mutateAsync:r.mutateAsync,isLoading:r.isLoading}}},68486:function(e,t,r){var n=r(67294);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(e){var t=e.hoverSelector,r=e.targetSelector,o=e.hoverClass,a=void 0===o?"":o,c=e.leaveClass,u=void 0===c?"":c,l=e.customReaction,s=void 0===l?[]:l;(0,n.useEffect)((function(){if("undefined"!==typeof document){var e=document.querySelector(t),n=document.querySelector(r),o=function(){var e,t;n&&((e=n.classList).add.apply(e,i(a.split(" "))),(t=n.classList).remove.apply(t,i(u.split(" "))))},c=function(){var e,t;n&&((e=n.classList).remove.apply(e,i(a.split(" "))),(t=n.classList).add.apply(t,i(u.split(" "))))},l=function(){e&&(e.addEventListener("mouseenter",o),e.addEventListener("mouseleave",c))};if(!e||!n){var s=new MutationObserver((function(){e=document.querySelector(t),n=document.querySelector(r),e&&n&&(l(),s.disconnect())}));return s.observe(document.body,{childList:!0,subtree:!0}),function(){s.disconnect()}}return l(),function(){e&&(e.removeEventListener("mouseenter",o),e.removeEventListener("mouseleave",c))}}}),[t,r,a,u].concat(i(s)))}}}]);