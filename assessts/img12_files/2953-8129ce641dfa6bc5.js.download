(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2953],{48083:function(e,t,n){"use strict";var r=n(92046),i=n(87315),s=n(89445),o={fetchHints:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(a,l){return s.Z.get("".concat((0,r.Z)()[i.Z.SCALABLE_HELP],"api/v2/hint-delivery/nudges?meId=").concat(e,"&moduleId=").concat(t).concat(n?"&taskId=".concat(n):"","&groupBy=context").concat(o?"&".concat(o):""))}},fetchSolutionHints:function(e,t){return function(n,o){return s.Z.get("".concat((0,r.Z)()[i.Z.SCALABLE_HELP],"/api/v2/hint-delivery/nudges?meId=").concat(e,"&moduleId=").concat(t,"&nudgeContextType=NUDGE_CONTEXT_MODULE&filterApproach=false"))}},fetchUnlockedHint:function(e){return function(t,n){return s.Z.get("".concat((0,r.Z)()[i.Z.SCALABLE_HELP],"api/v1/hint-delivery/hints/").concat(e))}},fetchUnlockedHints:function(e,t){return function(n,o){return s.Z.get("".concat((0,r.Z)()[i.Z.SCALABLE_HELP],"api/v1/hint-delivery/unlocked-hints?meId=").concat(e,"&moduleId=").concat(t,"&groupBy=moduleId"))}},unlockHint:function(e,t,n){return function(o,a){return s.Z.put("".concat((0,r.Z)()[i.Z.SCALABLE_HELP],"api/v1/hint-delivery/hints/").concat(n,"?meId=").concat(e,"&moduleId=").concat(t))}}};t.Z=o},64754:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893);n(67294);function i(e){var t=e.icon,n=e.value,i=e.extendedClassName,s=e.onClick;return(0,r.jsxs)("div",{onClick:s,className:"flex gap-x-2 text-background-700 items-center p-1 text-sm ".concat(i||""),children:[t,(0,r.jsx)("div",{children:n})]})}},90601:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(85893),i=(n(67294),n(79464)),s=n(17340),o=n(19693),a={loop:!0,autoplay:!0,animationData:n(82924),rendererSettings:{preserveAspectRatio:"xMidYMid slice"}};function l(e){var t=e.shouldShowAnimationHat,n=e.message;return(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center pb-3",children:(0,r.jsxs)(o.E.div,{initial:{scale:.5,opacity:.5},animate:{scale:1,opacity:1},transition:{duration:.4,type:"spring"},className:"h-full flex flex-col justify-center items-center text-center",children:[t&&(0,r.jsx)(i.Z,{isClickToPauseDisabled:!0,options:a,height:250,width:250}),(0,r.jsx)(s.Z,{variant:"h4",className:"font-normal opacity-75",children:n||(0,r.jsxs)("div",{children:["We looked and looked but",(0,r.jsx)("br",{}),"couldn\u2019t find anything"]})})]})})}},22265:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(85893);n(67294);function i(e){var t=e.tag,n=e.extendedClassName;return(0,r.jsx)("div",{className:"".concat(n||""," h-min text-black text-sm p-1 rounded-md whitespace-nowrap"),children:t})}function s(e){var t=e.tags;return(0,r.jsx)("div",{className:"flex gap-x-3 overflow-auto scrollbar-hide",children:null===t||void 0===t?void 0:t.map((function(e,t){return(0,r.jsx)(i,{tag:e,extendedClassName:t%3==0?"bg-secondary-100":t%3==1?"bg-success-100":"bg-background-400"},"".concat(e,"-").concat(t))}))})}},30020:function(e,t,n){"use strict";n.d(t,{Z:function(){return Q}});var r=n(34051),i=n.n(r),s=n(85893),o=n(92684),a=n(15193),l=n(47398),c=n(7657),u=n(68527),d=n(67814),f=n(31132),x=n(11163),p=n(67294),m=n(88767),h=n(83731),v=n(18057),g=n(93282),y=n(26966),j=n(30634),b=n(29379),N=n(97645),E=n(61338),k=n(41067),T=n(18794),_=n(8289),w=n(64754),C=n(9384),I=n(4938),O=n(42995),S=n(22265),A=n(47223),U=n(54107);function P(){return(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"flex gap-2 px-6 py-3 ",children:[(0,s.jsx)(U.s7,{size:"10"}),(0,s.jsx)("div",{className:"flex-1 flex-col gap-4",children:(0,s.jsx)(U.N2,{mt:"4",noOfLines:15,spacing:"4",skeletonHeight:"2"})})]}),Array.from(Array(5).keys()).map((function(e){return(0,s.jsxs)("div",{className:"flex gap-2 border-t-[1px] border-bg-400 w-full items-start gap-x-4 px-6 py-3",children:[(0,s.jsx)(U.s7,{size:"10"}),(0,s.jsx)("div",{className:"flex-1 flex-col gap-4",children:(0,s.jsx)(U.N2,{mt:"4",noOfLines:3,spacing:"4",skeletonHeight:"2"})})]},"topic-skeleton-".concat(e))}))]})}function Z(){return(0,s.jsx)("div",{className:"flex flex-col gap-6 my-3",children:Array.from(Array(2).keys()).map((function(e){return(0,s.jsx)("div",{className:"flex gap-2 w-full items-start gap-x-4",children:(0,s.jsx)("div",{className:"flex-1 flex-col gap-4",children:(0,s.jsx)(U.N2,{mt:"4",noOfLines:3,spacing:"4",skeletonHeight:"2"})})},"topic-skeleton-".concat(e))}))})}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){H(s,r,i,o,a,"next",e)}function a(e){H(s,r,i,o,a,"throw",e)}o(void 0)}))}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){R(e,t,n[t])}))}return e}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(l){a=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e){var t,n,r,U,D,H,R,Q=e.key,q=e.extendedClass,M=e.topicIdParam,K=e.isTypeComponent,B=e.topicDetailData,z=e.topicDetailRef,X=e.setTopicDetailState,F=e.firstPostExtendedClass,V=(0,x.useRouter)(),W=(0,p.useState)(!1),J=W[0],$=W[1],ee=V.query,te=ee.topicId,ne=ee.meId,re=ee.moduleId,ie=M||te||(null===B||void 0===B?void 0:B.id),se=(0,T.Z)(ie),oe=se.data,ae=se.refetch,le=se.isLoading,ce=oe||B||{},ue=ce.title,de=ce.posts_count,fe=ce.views,xe=ce.details,pe=ce.tags,me=ce.category_id,he=ce.post_stream,ve=ce.created_at,ge=ce.slug,ye=ce.like_count,je=xe||{},be=je.created_by,Ne=je.can_edit,Ee=je.can_delete,ke=(null===he||void 0===he||null===(t=he.posts)||void 0===t?void 0:t.find((function(e){return 1===e.post_number})))||{},Te=ke.cooked,_e=ke.actions_summary,we=ke.id,Ce=be||{},Ie=Ce.name,Oe=Ce.username,Se=Ce.avatar_template,Ae=ve?(0,f.default)(new Date(ve),"dd MMM"):"",Ue=(0,j.wX)(Se),Pe=null===_e||void 0===_e?void 0:_e.find((function(e){return e.id===h.jh.DISCOURSE_POST_LIKE_COUNT_ID})),Ze=!0===(null===Pe||void 0===Pe?void 0:Pe.acted),De=!0===(null===Pe||void 0===Pe?void 0:Pe.can_act)||!0===(null===Pe||void 0===Pe?void 0:Pe.can_undo),He=(0,p.useState)(!1),Ye=He[0],Re=He[1],Le=(0,p.useState)(!1),Ge=Le[0],Qe=Le[1],qe=(0,p.useState)(0),Me=qe[0],Ke=qe[1],Be=(0,m.useQueryClient)(),ze=v.QUERY_KEY.QUERY_KEY_SEARCH,Xe=(0,y.Rm)().query,Fe=(0,E.Z)(me),Ve=Fe.categoryResponse,We=Fe.isSuccess,Je=(0,p.useState)(""),$e=Je[0],et=Je[1],tt=(0,p.useState)([]),nt=tt[0],rt=tt[1],it=function(e){return null===e||void 0===e?void 0:e.join("_").toUpperCase()},st=function(e){for(var t="",n=0;n<(null===e||void 0===e?void 0:e.length)&&"module"!==e[n];n++)t+="".concat(e[n].toUpperCase(),"_");return t=t.slice(0,-1)},ot=(0,k.Z)(st(nt),it(nt));(0,p.useEffect)((function(){var e=function(){if(We)return null===Ve||void 0===Ve?void 0:Ve.category.slug}();et(e);var t=null===e||void 0===e?void 0:e.split("-").slice(1);rt(t)}),[me,We]);var at=function(){2===Object.keys(V.components).length?V.push(g.routes.CRIO_COMMUNITY):V.back()},lt=(0,b.Z)((function(){ne?Be.getQueryData([ze,Xe])&&Be.setQueryData([ze,Xe],(function(e){return{pages:e.pages.map((function(e){return{data:e.data.filter((function(e){return e.id!==Number(ie)})),nextPageParam:e.nextPageParam}})),pageParams:e.pageParams}})):at();X&&X(null)})),ct=G((0,o.ac)("(max-width: 600px)",{ssr:!0,fallback:!1}),1)[0];(0,p.useEffect)((function(){Re(De)}),[De]),(0,p.useEffect)((function(){Qe(Ze)}),[Ze]),(0,p.useEffect)((function(){Ke(ye)}),[ye]);var ut=(0,N.Z)(),dt=ut.likePost,ft=ut.dislikePost,xt={category:ne||h.jh.INTERVIEW_CATEGORY,subCategory:re?{value:re}:h.jh.SUBCATEGORY_OPTIONS.find((function(e){return e.value===me})),tags:null===(n=null===pe||void 0===pe?void 0:pe.filter((function(e){return!/^task_.*/i.test(e)})))||void 0===n?void 0:n.map((function(e){return{label:e,value:e}})),title:ue,query:Te,topicId:ie,topicSlug:ge,mainPostId:we},pt=(0,p.useState)(xt),mt=pt[0],ht=pt[1];(0,p.useEffect)((function(){ht(L({},xt,{query:(0,j.uo)(Te)}))}),[Te]);var vt=null===he||void 0===he?void 0:he.stream,gt=function(){var e=Y(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={context:"/t/".concat(ge,"/").concat(ie),topicId:ie},e.next=3,lt.mutateAsync(n);case 3:t&&t();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return K&&le?(0,s.jsx)(Z,{}):le?(0,s.jsx)(P,{}):(0,s.jsxs)("div",L({className:"flex flex-col w-full overflow-auto ".concat(q&&q)},Q&&{id:"topic-".concat(Q)},{ref:z,children:[(0,s.jsxs)("div",{className:"".concat(K&&"px-3 pt-1"," rounded-md flex flex-col gap-y-3 pb-3 w-full transition-colors ease-in-out ").concat(F&&F),children:[(0,s.jsxs)("div",{className:"flex items-start ".concat(K?"":"px-6 pt-6"),children:[!ct&&!K&&(0,s.jsx)(a.hU,{onClick:at,"aria-label":"Back to Community Dashboard",className:"bg-transparent min-w-[50px] -mt-1",icon:(0,s.jsx)(d.G,{icon:["fa","arrow-left"]}),size:"lg"}),(0,s.jsx)("div",{className:"flex gap-x-3 w-full",children:(0,s.jsxs)("div",{className:"flex flex-col gap-y-[1px] w-full",children:[(0,s.jsxs)("div",{className:"flex w-full justify-between items-center",children:[(0,s.jsx)("div",{className:"font-bold ".concat(K?"text-[18px]":"text-[22px]"),children:ue}),(0,s.jsxs)("div",{className:"flex text-primary-500",children:[Ne&&(0,s.jsx)(A.Z,{forceShowEditModal:!0,triggerButton:(0,s.jsx)(a.zx,{className:"px-0 bg-transparent flex flex-col items-center justify-center gap-1",children:(0,s.jsx)(d.G,{icon:["far","pen"],size:"md"})}),editMode:!0,defaultData:mt}),Ee&&(0,s.jsx)(_.Z,{triggerButton:(0,s.jsx)(a.zx,{className:"px-0 text-failure-400 bg-transparent flex flex-col items-center justify-center gap-1",children:(0,s.jsx)(d.G,{icon:["far","trash-can"],size:"md"})}),dialogHeader:"Remove Topic",dialogBody:(0,s.jsxs)("div",{children:["You are trying to delete the topic"," ",(0,s.jsx)("span",{className:"font-bold",children:'"'.concat(ue,'"')})," and this action cannot be undone."]}),onSuccess:gt,successButtonLoading:lt.isLoading}),Ye&&(0,s.jsx)(a.zx,{onClick:Y(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ge){e.next=7;break}return e.next=3,ft.mutateAsync(we);case 3:Ke((function(e){return e-1})),Qe(!1),e.next=11;break;case 7:return e.next=9,dt.mutateAsync(we);case 9:Qe(!0),Ke((function(e){return e+1}));case 11:case"end":return e.stop()}}),e)}))),type:"ghost",className:"px-0 bg-transparent flex flex-col items-center justify-center gap-1",children:Ge?(0,s.jsx)(d.G,{icon:["fas","thumbs-up"]}):(0,s.jsx)(d.G,{icon:["far","thumbs-up"]})})]})]}),(0,s.jsxs)("div",{className:"flex ".concat(ct?"flex-col":""," gap-2 w-full"),children:[(0,s.jsxs)("div",{className:"flex gap-x-1",children:[(0,s.jsx)(w.Z,{icon:(0,s.jsx)(d.G,{icon:["fas","reply"]}),value:Math.max(de-1,0)}),(0,s.jsx)(w.Z,{icon:(0,s.jsx)(d.G,{icon:["fas","eye"]}),value:fe}),(0,s.jsx)(w.Z,{icon:(0,s.jsx)(d.G,{icon:["fas","thumbs-up"]}),value:Me})]}),(0,s.jsx)(S.Z,{tags:(null===pe||void 0===pe?void 0:pe.filter((function(e){return!/^task_.*/i.test(e)})))||[]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mt-1 mb-2",children:[(0,s.jsx)(l.u,{label:Oe,placement:"right",children:(0,s.jsx)(c.qE,{name:Ie,src:Ue,size:"xs"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-bold",children:Ie}),Ae&&(0,s.jsx)("span",{className:"text-background-700",children:" posted on ".concat(Ae)})]}),!K&&(null===$e||void 0===$e?void 0:$e.includes("c-me-"))&&(0,s.jsxs)("div",{className:"dark:bg-gray-800 bg-background-200 ml-auto px-3 py-1 rounded",children:["This topic was originally posted in module '".concat(ot,"'"),". \xa0",(0,s.jsx)(u.rU,{color:"primary.500",className:"font-bold",href:function(){var e=null===$e||void 0===$e?void 0:$e.split("-").slice(1);if((null===e||void 0===e?void 0:e.length)>0){var t=st(e),n=it(e),r="/learn/me/".concat(t,"/").concat(n),i=/task_/i,s=null===pe||void 0===pe?void 0:pe.find((function(e){return e.match(i)}));if(s){var o=s.toUpperCase();r+="/task/".concat(o)}return r}}(),children:"Take me there"})]})]}),(0,s.jsx)(I.Z,{htmlString:Te})]})})]}),(0,s.jsxs)("div",{className:"".concat(ct||K?"":"px-6 ml-[50px]"),children:[J&&(0,s.jsx)(C.Z,{onSuccessfulCommentAdd:function(){return $(!1)},topicId:ie,categoryId:me,shouldShowCancelButton:!0,onCancelButtonClick:function(){return $(!1)}}),!J&&(0,s.jsxs)("div",{onClick:function(){return $(!0)},className:"dark:bg-[#1F2937] flex items-center justify-between p-3 w-full border rounded-md cursor-pointer",children:[(0,s.jsx)("div",{className:"text-background-600",children:"Add your comment here"}),(0,s.jsx)(d.G,{className:"text-background-600",icon:["fas","paper-plane-top"]})]})]})]}),K?(null===(U=null===he||void 0===he||null===(r=he.posts)||void 0===r?void 0:r.filter((function(e){return 1!==e.post_number})))||void 0===U?void 0:U.length)>0?(0,s.jsx)(u.iz,{}):(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(u.iz,{}),(null===(H=null===he||void 0===he||null===(D=he.posts)||void 0===D?void 0:D.filter((function(e){return 1!==e.post_number})))||void 0===H?void 0:H.length)>0&&(0,s.jsx)("div",{className:"my-3",children:(0,s.jsx)(O.Z,{topic:oe||B,extendedClassName:"pl-6 ".concat(ct||K?"":"ml-[50px]"),isTypeComponent:K,refetchTopic:ae,posts:null===he||void 0===he||null===(R=he.posts)||void 0===R?void 0:R.filter((function(e){return 1!==e.post_number})),stream:vt,topicId:te})})]}))}},5663:function(e,t,n){"use strict";n.d(t,{Z:function(){return U}});var r=n(34051),i=n.n(r),s=n(85893),o=n(30264),a=n(37496),l=n(15193),c=n(68527),u=n(54107),d=n(73465),f=n(94090),x=n(67814),p=n(96486),m=n(67294),h=n(74931),v=n(88767),g=n(9473),y=n(48083),j=n(28268),b=n(18057),N=n(76794),E=n(61575),k=n(17340),T=n(6785),_=n.n(T),w=n(77946),C=n(91218);function I(e){var t=e.hint,n=e.nudgeContextType,r=e.getNudgeContextTypeLabel,i=e.readHint,o=e.unlockHint,a=e.unlockable,c=((0,g.I0)(),!a&&!t.unlocked),u=(new Date).getTime();return(0,s.jsxs)("div",{className:"".concat(_().card," ").concat(c&&"opacity-50"," dark:bg-gray-900 bg-white p-4 pl-6 border-l-4 border-secondary-500 rounded-md relative"),children:[(0,s.jsxs)("div",{className:"mb-12",children:[(0,s.jsx)(k.Z,{className:"text-xs opacity-50 uppercase mb-1",children:r(n)}),(0,s.jsx)(k.Z,{className:"text-sm leading-relaxed",children:t.title})]}),(0,s.jsxs)("div",{children:[t.unlocked&&(0,s.jsxs)("div",{className:"absolute bottom-5 left-5 opacity-50 flex items-center gap-x-2 text-sm",children:[(0,s.jsx)(x.G,{icon:["fas","clock"],size:"sm"}),(0,w.Z)((0,C.Z)(u,u-t.unlockedAt),new Date,{addSuffix:!0})]}),t.unlocked?(0,s.jsx)(l.zx,{onClick:function(){return i(t)},variant:"ghost",colorScheme:"primary",className:"font-bold absolute bottom-3 right-3",children:"Read hint"}):(0,s.jsx)(l.zx,{disabled:c,leftIcon:c&&(0,s.jsx)(x.G,{icon:["fas","lock-alt"],size:"sm"}),onClick:function(){return o(t)},variant:"ghost",colorScheme:"primary",className:"font-bold absolute bottom-3 right-3",children:c?"Locked":" Unlock hint"})]})]})}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function A(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e){var t,n,r,T,_=e.meId,w=e.moduleId,C=(e.taskId,e.nudgesQuery),O=e.unlockedHintsQuery,U=e.unlockHintMutation,Z=e.userModuleDetailsList,D=b.QUERY_KEY.QUERY_KEY_FETCH_UNLOCKED_HINT,H=(0,g.I0)(),Y=(0,m.useState)(0),R=Y[0],L=Y[1],G=(0,g.v9)((function(e){return e.psdsReducer.currentPSDSHintId})),Q=(0,g.v9)((function(e){return e.generalReducer.showHintsDrawer})),q=(0,v.useQuery)([D,G],(function(){return H(y.Z.fetchUnlockedHint(G)).then((function(e){return e.data}))}),{enabled:Boolean(G)}),M=function(e){switch(e){case j.ENudgeContextTypes.NUDGE_CONTEXT_ASSESSMENT:return"Assessment";case j.ENudgeContextTypes.NUDGE_CONTEXT_TASK:return"Task";case j.ENudgeContextTypes.NUDGE_CONTEXT_MODULE:return"Module";case j.ENudgeContextTypes.NUDGE_CONTEXT_UNIT_TEST:return"Unit Test";case j.ENudgeContextTypes.NUDGE_CONTEXT_ANY:return"Regular";default:return(0,s.jsx)(s.Fragment,{})}},K=function(e,t){var n="Hint "+(t+1),r=null===Z||void 0===Z?void 0:Z.findIndex((function(t){return t.moduleId==e}));return r>-1&&(n=String(r+1)+". "+String(Z[r].userModuleDetails.moduleDetails.moduleTitle)),n},B=function(e){H({type:N.Sv,payload:e})},z=function(e){var t=e.hintDeliveryId;B(t)},X=function(){var e,t=(e=i().mark((function e(t,n,r){var s,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.hintDeliveryId,o={meId:t,moduleId:n,hintId:s},e.prev=2,e.next=5,U.mutateAsync(o);case 5:B(s),C.refetch(),O.refetch(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),h.ZP.error("Hint could not be unlocked! Try refreshing the page or contact support.");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){S(s,r,i,o,a,"next",e)}function a(e){S(s,r,i,o,a,"throw",e)}o(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();return(0,s.jsxs)(o.dy,{isOpen:Q,onClose:function(){B(null),L(0),H({type:N.JB,payload:!1})},placement:"right",size:"md",children:[(0,s.jsx)(o.P1,{}),(0,s.jsxs)(o.sc,{className:"",children:[(0,s.jsx)(o.cC,{}),(0,s.jsxs)(o.OX,{className:"dark:bg-gray-900 bg-white",children:[(0,s.jsx)(k.Z,{variant:"h5",children:"Hints"}),(0,s.jsxs)(k.Z,{className:"text-sm opacity-50",children:["Unlock hints to get help with the problems.",(0,s.jsx)("br",{}),"Hints can only be unlocked one at a time."]})]}),(0,s.jsx)(o.Ng,{overflowY:"auto",padding:0,className:"dark:bg-gray-700 bg-background-300",children:G?(0,s.jsx)("div",{className:"p-5",children:(0,s.jsxs)(a.Rg,{offsetY:"20px",in:!0,children:[(0,s.jsxs)(l.zx,{className:"flex items-center gap-x-3 mb-5",variant:"ghost",onClick:function(){return B(null)},children:[(0,s.jsx)(x.G,{icon:["fas","arrow-left"]}),"Back to Hints"]}),(0,s.jsx)("div",{className:"px-5",children:q.isError?(0,s.jsxs)("div",{className:"w-full h-full flex flex-col gap-y-3 justify-center items-center opacity-70 text-center",children:[(0,s.jsx)(x.G,{icon:["fas","exclamation-triangle"],size:"2x"}),(0,s.jsx)(k.Z,{className:"mb-3",children:"Something went wrong"}),(0,s.jsxs)(k.Z,{className:"",children:["The hint could not be fetched. ",(0,s.jsx)("br",{}),"Refresh or contact"," ",(0,s.jsx)("a",{href:"https://help.crio.do/",target:"_blank",rel:"noreferrer",children:"support."})]})]}):q.isSuccess?(0,s.jsx)(E.Z,{htmlString:null===(t=q.data)||void 0===t?void 0:t.message}):(0,s.jsxs)(c.Kq,{children:[(0,s.jsx)(u.Od,{height:"30px"}),(0,s.jsx)("br",{}),(0,s.jsx)(u.Od,{height:"30px"}),(0,s.jsx)(u.Od,{height:"30px"}),(0,s.jsx)(u.Od,{height:"30px"}),(0,s.jsx)("br",{}),(0,s.jsx)(u.Od,{height:"30px"})," ",(0,s.jsx)(u.Od,{height:"30px"})]})})]})}):(0,s.jsxs)(d.mQ,{colorScheme:"primary",className:"",index:R,onChange:function(e){return L(e)},children:[(0,s.jsxs)(d.td,{className:"dark:bg-gray-900 bg-white absolute w-full z-10",children:[(0,s.jsx)(d.OK,{width:"full",children:"Available Hints"}),(0,s.jsx)(d.OK,{width:"full",children:"All Unlocked Hints"})]}),(0,s.jsxs)(d.nP,{className:"p-5 pt-16",children:[(0,s.jsx)(d.x4,{padding:0,className:" ",children:(0,s.jsx)(a.Rg,{offsetY:"20px",in:!0,children:(0,p.isEmpty)(null===(n=C.data)||void 0===n?void 0:n.nudgesGroupedByContext)?(0,s.jsx)(P,{}):(0,s.jsx)("div",{className:"",children:(0,s.jsx)(f.UQ,{defaultIndex:[0],allowToggle:!0,allowMultiple:!0,children:Object.keys(C.data.nudgesGroupedByContext).map((function(e,t){var n,r,i,o,a;return(0,s.jsx)("div",{className:"",children:(0,s.jsxs)(f.Qd,{className:"border-none mb-3",children:[(0,s.jsx)("div",{className:"flex justify-between",children:(0,s.jsxs)(f.KF,{className:"px-2",children:[(0,s.jsx)(c.xu,{flex:"1",textAlign:"left",children:(0,s.jsxs)(k.Z,{children:[M(e)," Hints"]})}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"text-xs p-1 px-2 flex gap-x-1 items-center bg-background-500 opacity-50 dark:bg-gray-900 rounded-lg",children:[(null===(a=null===(n=C.data)||void 0===n||null===(r=n.nudgesGroupedByContext)||void 0===r||null===(i=r[e])||void 0===i||null===(o=i.nudges)||void 0===o?void 0:o.reduce((function(e,t){return e=A(e).concat(A(t.hints))}),[]))||void 0===a?void 0:a.length)||"Loading...",(0,s.jsx)(f.XE,{})]})," "]})]})}),!C.data.nudgesGroupedByContext[e].unlockable&&(0,s.jsx)(k.Z,{className:"px-2 text-sm opacity-50",children:"This group is locked since you've recently unlocked assessment hints."}),(0,s.jsx)(f.Hk,{className:"p-0 px-2 pt-4",children:(0,s.jsx)("div",{className:"flex flex-col gap-y-4 ",children:(0,p.orderBy)(C.data.nudgesGroupedByContext[e].nudges.reduce((function(e,t){return e=A(e).concat(A(t.hints))}),[]),["unlockedAt"],["asc"]).map((function(t,n){return(0,s.jsx)("div",{children:(0,s.jsx)(I,{hint:t,nudgeContextType:e,getNudgeContextTypeLabel:M,unlockable:C.data.nudgesGroupedByContext[e].unlockable,unlockHint:function(e){return X(_,w,e)},readHint:z})},n)}))})})]})},t)}))})})})}),(0,s.jsx)(d.x4,{padding:0,children:(0,s.jsx)(a.Rg,{offsetY:"20px",in:!0,children:0==(null===(r=O.data)||void 0===r?void 0:r.length)?(0,s.jsx)(P,{text:"You have not unlocked any hints yet."}):(0,s.jsx)("div",{className:"",children:(0,s.jsx)(f.UQ,{defaultIndex:[0],allowToggle:!0,allowMultiple:!0,children:null===(T=O.data)||void 0===T?void 0:T.map((function(e,t){return(0,s.jsx)("div",{className:"",children:(0,s.jsxs)(f.Qd,{className:"border-none mb-3",children:[(0,s.jsx)("div",{className:"flex justify-between",children:(0,s.jsxs)(f.KF,{className:"px-2",children:[(0,s.jsx)(c.xu,{flex:"1",textAlign:"left",children:(0,s.jsx)(k.Z,{children:K(e.moduleId,t)})}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"text-xs p-1 px-2 flex gap-x-1 items-center bg-background-500 opacity-50 dark:bg-gray-900 rounded-lg",children:[e.hints.length,(0,s.jsx)(f.XE,{})]})," "]})]})}),(0,s.jsx)(f.Hk,{className:"p-0 px-2 pt-4",children:(0,s.jsx)("div",{className:"flex flex-col gap-y-4 ",children:e.hints.map((function(t,n){return(0,s.jsx)("div",{children:(0,s.jsx)(I,{hint:t,nudgeContextType:e,getNudgeContextTypeLabel:M,readHint:z})},n)}))})})]})},t)}))})})})})]})]})})]})]})}var P=function(e){var t=e.text;return(0,s.jsxs)("div",{className:"opacity-50 flex flex-col items-center mt-5 gap-y-5 text-center",children:[(0,s.jsx)("div",{children:(0,s.jsx)(x.G,{icon:["fad","question"],size:"2x"})}),(0,s.jsx)("div",{children:(0,s.jsxs)(k.Z,{children:[t||"Hints are unavailable",(0,s.jsx)("br",{})," Check back later!"]})})]})}},28268:function(e){"use strict";e.exports={ENudgeContextTypes:{NUDGE_CONTEXT_ASSESSMENT:"NUDGE_CONTEXT_ASSESSMENT",NUDGE_CONTEXT_TASK:"NUDGE_CONTEXT_TASK",NUDGE_CONTEXT_MODULE:"NUDGE_CONTEXT_MODULE",NUDGE_CONTEXT_UNIT_TEST:"NUDGE_CONTEXT_UNIT_TEST",NUDGE_CONTEXT_ANY:"NUDGE_CONTEXT_ANY"}}},66472:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(74931),i=n(88767),s=n(9473),o=n(36569),a=n(18057),l=n(30634),c=n(11163);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){var t=a.QUERY_KEY.QUERY_KEY_SEARCH,n=(0,c.useRouter)().query.topic,d=(0,s.I0)(),f=(0,i.useInfiniteQuery)([t,e],(function(t){var r=t.pageParam,i=void 0===r?1:r;return d(o.Z.search(i,(0,l.mB)(e))).then((function(e){var t,r=e.data,s=r.posts,o=(null===(t=r.topics)||void 0===t?void 0:t.map((function(e){var t=e.id;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},e,{related_post:s.find((function(e){return e.topic_id===t}))})})))||[];return{data:null===o||void 0===o?void 0:o.filter((function(e){var t=/^About the .* category$/.test(e.title),r=e.id===Number(n);return!t&&!r})),nextPageParam:o.length>0?i+1:void 0}}))}),{getNextPageParam:function(e){return e.nextPageParam},onError:function(e){var t,n,i=null===(t=e.response)||void 0===t?void 0:t.data,s=null===i||void 0===i||null===(n=i.errors)||void 0===n?void 0:n.join(", ");r.ZP.error(s||"Something went wrong")}});return f}},2953:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ve}});var r=n(85893),i=n(37496),s=n(54107),o=n(67814),a=n(67294),l=n(88767),c=n(9473),u=n(48083),d=n(68947),f=n(95635),x=n(63710),p=n(45137),m=n(85035),h=n(61575),v=n(17340),g=n(11163),y=n(26966),j=n(82961),b=n(66472),N=n(47223),E=n(34051),k=n.n(E),T=n(90601);function _(e){var t=e.elementCount;return(0,r.jsx)("div",{children:Array.from(Array(t||5).keys()).map((function(e){return(0,r.jsxs)("div",{className:"flex gap-2 border-t-[1px] border-bg-400 w-full items-start gap-x-4 px-6 py-3",children:[(0,r.jsx)(s.s7,{size:"10"}),(0,r.jsx)("div",{className:"flex-1 flex-col gap-4",children:(0,r.jsx)(s.N2,{mt:"4",noOfLines:4,spacing:"4",skeletonHeight:"2"})})]},"topic-skeleton-".concat(e))}))})}var w=n(64754),C=n(22265),I=n(77946),O=n(93282),S=n(92684),A=n(47398),U=n(7657),P=n(15193),Z=n(30634),D=n(30020);function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(l){a=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){var t=e.topic,n=e.innerRef,i=e.topicInnerClassName,s=e.isTypeAccordion,l=e.isUiCollapsed,u=e.firstPostExtendedClass,d=(0,g.useRouter)(),f=(0,a.useState)(!1!==l),x=f[0],p=f[1],m=t.id,h=t.slug,v=t.title,y=t.posts_count,j=t.created_at,b=t.last_posted_at,N=t.tags,E=t.related_post,k=E.name,T=E.username,_=E.avatar_template,H=E.like_count,L=E.blurb,G=(0,Z.wX)(_),Q=(0,c.v9)((function(e){return e.generalReducer.darkMode})),q=R((0,S.ac)("(max-width: 600px)",{ssr:!0,fallback:!1}),1)[0],M=(null===N||void 0===N?void 0:N.filter((function(e){return!/^task_.*/i.test(e)})))||[],K=function(){return p(!1)},B=function(){return(0,r.jsxs)("div",{className:"".concat(i||"flex items-start gap-x-4 px-4 py-3 w-full"),children:[(0,r.jsx)(A.u,{label:T,placement:"right",children:(0,r.jsx)(U.qE,{name:k,src:G,size:"sm"})}),(0,r.jsxs)("div",{className:"flex flex-col gap-y-2 w-full",children:[(0,r.jsx)("div",{className:"text-lg font-semibold",children:v}),!q&&(0,r.jsx)("div",{className:"".concat(Q?"text-background-500":"text-background-900"," -mt-2"),children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,Z.Hd)(L),s&&(0,r.jsx)(P.zx,{colorScheme:"primary",variant:"link",className:"pl-1 underline font-bold",size:"sm",onClick:K,children:"Read More"})]})}),M&&Array.isArray(M)&&M.length>0&&(0,r.jsx)(C.Z,{tags:M}),(0,r.jsxs)("div",{className:"flex dark:text-background-500 justify-between items-center ",children:[(0,r.jsxs)("div",{className:"flex gap-x-2 text-sm text-background-700 dark:text-background-500",children:[(0,r.jsx)("div",{children:"Created ".concat((0,I.Z)(new Date(j),new Date)," ago")}),b&&(0,r.jsx)("div",{className:"h-[16px] w-[1px] bg-background-600 mt-1"}),b&&(0,r.jsx)("div",{children:"Last replied ".concat((0,I.Z)(new Date(b),new Date)," ago")})]}),(0,r.jsxs)("div",{className:"flex gap-x-2",children:[(0,r.jsx)(w.Z,{icon:(0,r.jsx)(o.G,{icon:["fas","reply"]}),value:Math.max(y-1,0)}),(0,r.jsx)(w.Z,{icon:(0,r.jsx)(o.G,{icon:["fas","thumbs-up"]}),value:H})]})]})]})]})};return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Y(e,t,n[t])}))}return e}({},n?{ref:n}:{},{className:"".concat(n?"":"border-b-[1px]"," w-full ").concat(s?"":"cursor-pointer")},s?{}:{onClick:function(){d.push({pathname:O.routes.CRIO_COMMUNITY_TOPIC,query:{topicSlug:h,topicId:m}})}},{id:"topic-".concat(m),children:s?x?B():(0,r.jsx)(D.Z,{firstPostExtendedClass:u,isTypeComponent:!0,topicIdParam:String(m)}):B()}))}var G=n(85267),Q=n(18057);function q(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){M(e,t,n[t])}))}return e}function B(e){var t=e.data,n=e.loading,i=e.hasMore,s=e.topicInnerClassName,o=e.isTypeAccordion,c=e.fetchNextPage,u=(0,a.useRef)(),d=(0,g.useRouter)().query.topic,f=(0,G.Z)(),x=(0,a.useRef)(null),p=(0,l.useQueryClient)(),m=Q.QUERY_KEY.QUERY_KEY_GET_TOPIC,h=p.getQueryData([m,d]),v=(0,a.useState)(""),y=v[0],j=v[1],b=(0,a.useCallback)((function(e){n||(u.current&&u.current.disconnect(),u.current=new IntersectionObserver((function(e){e[0].isIntersecting&&i&&c()})),e&&u.current.observe(e))}),[n,i,c]),N=t?t.pages.flatMap((function(e){return e.data})):[];return(0,a.useEffect)((function(){var e=function(){var e,t=(e=k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=3;break}return e.next=3,f.mutateAsync(d);case 3:setTimeout((function(){j("bg-primary-50 dark:bg-gray-700")}),400),setTimeout((function(){j("")}),1600);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){q(s,r,i,o,a,"next",e)}function a(e){q(s,r,i,o,a,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[]),(0,a.useEffect)((function(){var e=setTimeout((function(){x.current&&h&&x.current.scrollIntoView({behavior:"smooth",inline:"center"})}),300);return function(){return clearTimeout(e)}}),[h]),(0,r.jsxs)("div",{className:"overflow-scroll h-full",children:[Boolean(h)&&(0,r.jsx)(D.Z,{topicDetailRef:x,topicIdParam:d,isTypeComponent:!0,extendedClass:"border-b-[1px]",firstPostExtendedClass:y},"topic-".concat(null===h||void 0===h?void 0:h.id)),N.map((function(e,t){return(0,r.jsx)(L,K({topic:e,topicInnerClassName:s,isTypeAccordion:o},N.length===t+1&&{innerRef:b},d===e.id.toString()&&{isUiCollapsed:!1,firstPostExtendedClass:y}),"topic-".concat(e.id,"-").concat(t))})),n?(0,r.jsx)(_,{elementCount:5}):0===N.length?(0,r.jsx)(T.Z,K({},o?{message:"Be the first one to ask a query",shouldShowAnimationHat:!1}:{shouldShowAnimationHat:!0})):(0,r.jsx)(r.Fragment,{})]})}function z(){var e=((0,y.Rm)()||{}).query,t=(0,b.Z)(e),n=t.data,i=t.isFetching,s=t.hasNextPage,l=t.fetchNextPage,c=t.refetch,u=(0,g.useRouter)().query,d=u.meId,f=u.moduleId,x=(0,j.Z)(f);return(0,a.useEffect)((function(){f&&x.refetch()}),[f]),(0,r.jsx)("div",{className:"bg-white py-[60px] dark:bg-[#111827] w-full flex justify-center pt-4 border-t-[1px] border-bg-background-400 basis-full",children:(0,r.jsx)("div",{className:"flex flex-col gap-3 md:w-[700px]",children:x.isFetched&&x.isSuccess?(0,r.jsxs)("div",{className:"flex flex-col gap-3 md:w-[700px]",children:[(0,r.jsx)("div",{className:"text-background-700 font-bold text-md",children:"Peer Discussions"}),(0,r.jsx)(N.Z,{refetchSearchResults:c,defaultData:{category:d,subCategory:{value:f},tags:[],query:"",title:""},modalHeading:"Ask your query among peers",triggerButton:(0,r.jsxs)("div",{className:"dark:bg-[#1F2937] flex items-center justify-between p-3 w-full border rounded-md cursor-pointer",children:[(0,r.jsx)("div",{className:"text-background-600 text-lg",children:"Ask your query among peers"}),(0,r.jsx)(o.G,{className:"text-background-600",icon:["fas","paper-plane-top"]})]})}),(0,r.jsx)(B,{data:n,loading:i,hasMore:s,fetchNextPage:l,topicInnerClassName:"flex items-start gap-x-4 py-3 w-full",isTypeAccordion:!0})]}):x.isFetched&&(0,r.jsxs)("div",{className:"flex gap-2 items-center pb-4",children:[(0,r.jsx)(o.G,{className:"text-red-400",icon:["fal","circle-exclamation"]}),(0,r.jsx)("div",{className:"items-center",children:"Could not load Crio Community for this module, reach out to support if issue persists"})]})})})}var X=n(46513),F=n(19693),V=n(46129);var W=function(e,t){(0,a.useEffect)((function(){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}}),[e,t])},J=n(30264),$=n(74931);function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(l){a=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e){var t=e.className,n=e.meId,i=e.moduleId,s=e.hint,d=e.taskId,f=(te(e,["className","meId","moduleId","hint","taskId"]),Q.QUERY_KEY.QUERY_KEY_FETCH_APPROACH_HINT),x=Q.QUERY_KEY.QUERY_KEY_FETCH_UNLOCKED_HINT,p=Q.MUTATION_KEY.MUTATION_KEY_FETCH_UNLOCKED_HINT,m=Q.MUTATION_KEY.MUTATION_KEY_UNLOCK_HINT,h=ne((0,V.R)(),2),g=h[0],y=(h[1],(0,a.useState)(!1)),j=y[0],b=y[1],N=(0,X._)(),E=(0,c.I0)(),k=(0,l.useQueryClient)(),T=(0,a.useRef)();W(T,(function(){_()}));var _=function(){N.start({x:0}),b(!1)},w=(0,l.useQuery)([x,s.hintDeliveryId,i],(function(){return E(u.Z.fetchUnlockedHint(s.hintDeliveryId)).then((function(e){return e.data}))}),{enabled:Boolean(s.unlocked)}),C=(0,l.useMutation)([p],(function(e){var t=e.hintId;return E(u.Z.fetchUnlockedHint(t))}),{onSuccess:function(e){O(e.data.message),k.refetchQueries([f,n,i,d])},onError:function(e){}}),I=(0,l.useMutation)([m],(function(e){var t=e.meId,n=e.moduleId,r=e.hintId;return E(u.Z.unlockHint(t,n,r))}),{onSuccess:function(){C.mutate({hintId:s.hintDeliveryId})},onError:function(e){$.ZP.error("You cannot unlock Approach Video right now")}}),O=function(e){g({children:(0,r.jsxs)(J.hz,{marginX:"10px",minW:"700px",children:[(0,r.jsx)(J.ol,{}),(0,r.jsx)(J.xB,{children:"Know how to approach this module"}),(0,r.jsxs)(J.fe,{className:"flex justify-center",children:[" ",(0,r.jsx)("div",{className:"leading-relaxed ",dangerouslySetInnerHTML:{__html:e}})]}),(0,r.jsx)(J.mz,{className:"flex gap-x-3"})]})})};return(0,r.jsx)(F.E.div,{className:"fixed z-20 w-[250px] h-[130px] ".concat(t),initial:{x:0},transition:{duration:.3,type:"just"},animate:N,ref:T,children:(0,r.jsx)("div",{className:"relative bg-white dark:bg-gray-700 h-full text-sm rounded-l-lg overflow-hidden ",style:{boxShadow:"1px 1px 6px rgba(0, 0, 0, 0.16)"},children:j?(0,r.jsxs)("div",{className:"px-4 py-4 gap-x-2 items-center justify-center h-full",children:[(0,r.jsx)("div",{className:"absolute right-0 top-0",children:(0,r.jsx)("div",{className:"hover:opacity-60 cursor-pointer transition-all bg-background-300 dark:bg-gray-900 px-2 py-1 rounded-bl-md flex items-center justify-center",onClick:_,children:(0,r.jsx)(o.G,{icon:["fas","chevron-right"],size:"sm"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.G,{icon:["fad","film"],size:"2x",className:"text-success-300"}),(0,r.jsx)(v.Z,{className:"mb-1 pt-2",children:"Know how to approach?"}),(0,r.jsx)("div",{colorScheme:"primary",variant:"ghost",className:"font-bold cursor-pointer hover:underline w-full text-blue-500 dark:text-blue-300",onClick:function(){s.unlocked?O(w.data.message):I.mutate({meId:n,moduleId:i,hintId:s.hintDeliveryId})},children:(0,r.jsx)("p",{children:s.unlocked?"View Now":"Unlock Now"})})]})]}):(0,r.jsxs)("div",{onClick:function(){N.start({x:-200}),b(!0)},className:"transition-all font-bold flex items-center text-xs  h-full bg-success-300  cursor-pointer hover:opacity-60\n              }",style:{writingMode:"tb-rl",transform:"scale(-1,-1)"},children:[(0,r.jsxs)("div",{className:"px-5",children:[(0,r.jsx)(v.Z,{variant:"h6",className:"text-black font-extrabold text-sm py-[6px]",children:"APPROACH"})," "]}),(0,r.jsx)("div",{className:"py-[12px] px-6 flex items-center h-full bg-success-100 w-full",children:(0,r.jsx)(o.G,{icon:["fas","chevron-right"],size:"sm",className:"text-black ml-1 "})})]})})})}var ie=n(76794);function se(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oe(e){var t=e.className,n=(se(e,["className"]),(0,a.useState)(!1)),i=n[0],s=n[1],l=(0,X._)(),u=(0,c.I0)(),d=(0,a.useRef)();W(d,(function(){f()}));var f=function(){l.start({x:0}),s(!1)};return(0,r.jsx)(F.E.div,{className:"fixed z-20 w-[250px] h-[130px]  ".concat(t),initial:{x:0},transition:{duration:.3,type:"just"},animate:l,ref:d,children:(0,r.jsx)("div",{className:"relative bg-white dark:bg-gray-700 h-full text-sm rounded-l-lg overflow-hidden ",style:{boxShadow:"1px 1px 6px rgba(0, 0, 0, 0.16)"},children:i?(0,r.jsxs)("div",{className:"px-4 py-4 gap-x-2 items-center justify-center h-full",children:[(0,r.jsx)("div",{className:"absolute right-0 top-0",children:(0,r.jsx)("div",{className:"hover:opacity-60 cursor-pointer transition-all bg-background-300 dark:bg-gray-900 px-2 py-1 rounded-bl-md flex items-center justify-center",onClick:f,children:(0,r.jsx)(o.G,{icon:["fas","chevron-right"],size:"sm"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.G,{icon:["fad","lightbulb-on"],size:"2x",className:"text-secondary-500"}),(0,r.jsx)(v.Z,{className:"mb-1 pt-2",children:"Feeling stuck anywhere?"}),(0,r.jsx)("div",{colorScheme:"primary",variant:"ghost",className:"font-bold cursor-pointer hover:underline w-full text-blue-500 dark:text-blue-300",onClick:function(){u({type:ie.JB,payload:!0})},children:(0,r.jsx)("p",{children:"View Hints"})})]})]}):(0,r.jsxs)("div",{onClick:function(){l.start({x:-200}),s(!0)},className:"hover:opacity-60 cursor-pointer transition-all bg-secondary-300 font-bold flex items-center text-xs h-full",style:{writingMode:"tb-rl",transform:"scale(-1,-1)"},children:[(0,r.jsxs)("div",{className:"px-5",children:[(0,r.jsx)(v.Z,{variant:"h4",className:"text-black font-extrabold text-sm py-[4px]",children:"\xa0\xa0\xa0\xa0\xa0HINTS\xa0\xa0\xa0\xa0"})," "]}),(0,r.jsx)("div",{className:"py-[14px] px-6 flex items-center h-full bg-secondary-100 w-full",children:(0,r.jsx)(o.G,{icon:["fas","chevron-right"],size:"sm",className:"text-black ml-1 "})})]})})})}var ae=n(5663),le=n(7830),ce=n(6482),ue=n(28268),de=n(65247),fe=n(10666),xe=n(56536);function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pe(e,t,n[t])}))}return e}function he(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ve(e){var t,n,g,y,j,b,N,E,k,T,_,w,C,I,O,S,A,U,P=e.meId,Z=e.moduleId,D=e.slides,H=e.index,Y=e.form,R=e.taskDetailsQuery,L=e.userModuleDetailsList,G=he(e,["meId","moduleId","slides","index","form","taskDetailsQuery","userModuleDetailsList"]),q=Q.QUERY_KEY.QUERY_KEY_FETCH_APPROACH_HINT,M=Q.QUERY_KEY.QUERY_KEY_FETCH_UNLOCKED_HINTS,K=Q.QUERY_KEY.QUERY_KEY_FETCH_HINTS,B=Q.QUERY_KEY.QUERY_KEY_GET_EXPLANATION,X=Q.QUERY_KEY.QUERY_KEY_FETCH_CONTAINER,F=Q.MUTATION_KEY.MUTATION_KEY_UNLOCK_HINT,V=(0,c.I0)(),W=(0,xe.Z)().saveAnswerDataHandler,J=null===G||void 0===G?void 0:G.task,$=null===J||void 0===J||null===(t=J.moduleTasksDetailsEntity)||void 0===t||null===(n=t.meModuleTaskPk)||void 0===n?void 0:n.taskId,ee=null===J||void 0===J?void 0:J.userAnswerList,te=null===D||void 0===D||null===(g=D[H])||void 0===g||null===(y=g.moduleTasksDetailsEntity)||void 0===y?void 0:y.staticQuestionsList,ne=Boolean((null===ee||void 0===ee?void 0:ee.length)>0),ie=null===J||void 0===J?void 0:J.taskValidationReport,se=null===ie||void 0===ie?void 0:ie.totalAnswersWrong,fe=null===ie||void 0===ie?void 0:ie.totalAnswersCorrect,ve=null===(j=null===ee||void 0===ee?void 0:ee.filter((function(e){return(null===e||void 0===e?void 0:e.answerValidationStatus)===ce.EAnswerValidationStatus.ANSWER_VALIDATION_STATUS_NO_VALIDATION})))||void 0===j?void 0:j.length,ge=function(e){try{return JSON.parse(e).question_title}catch(t){return e}},ye=function(e){var t;try{return"undefined"!==typeof(t=JSON.parse(e).question_body&&JSON.parse(e).question_body.replace("[",""))?t.substring(0,t.length-1):""}catch(n){return""}},je=(0,l.useQuery)([X,P,Z,null===D||void 0===D||null===(b=D[H])||void 0===b||null===(N=b.moduleTasksDetailsEntity)||void 0===N?void 0:N.taskContent],(function(){var e,t;return V(d.Z.fetchContainer(P,Z,null===D||void 0===D||null===(e=D[H])||void 0===e||null===(t=e.moduleTasksDetailsEntity)||void 0===t?void 0:t.taskContent)).then((function(e){return e.data}))}),{enabled:Boolean(null===D||void 0===D||null===(E=D[H])||void 0===E||null===(k=E.moduleTasksDetailsEntity)||void 0===k?void 0:k.taskContent),onSuccess:function(){},onError:function(){}}),be=(0,l.useQuery)([K,P,Z,$],(function(){return V(u.Z.fetchHints(P,Z,$)).then((function(e){return e.data}))}),{onSuccess:function(){},enabled:Boolean($)}),Ne=(0,l.useQuery)([q,P,Z,$],(function(){return V(u.Z.fetchHints(P,Z,null,"&filterApproach=true")).then((function(e){return e.data}))}),{onSuccess:function(){},enabled:Boolean($)}),Ee=Boolean(null===(T=be.data)||void 0===T?void 0:T.nudgesGroupedByContext[ue.ENudgeContextTypes.NUDGE_CONTEXT_TASK]),ke=Boolean(null===(w=null===(_=Ne.data)||void 0===_?void 0:_.nudgesGroupedByContext[ue.ENudgeContextTypes.NUDGE_CONTEXT_MODULE])||void 0===w||null===(C=w.nudges)||void 0===C||null===(I=C[0])||void 0===I||null===(O=I.hints)||void 0===O?void 0:O[0]),Te=(0,l.useQuery)([M,P,Z],(function(){return V(u.Z.fetchUnlockedHints(P,Z)).then((function(e){return e.data}))}),{onSuccess:function(){}}),_e=(0,l.useMutation)([F],(function(e){var t=e.meId,n=e.moduleId,r=e.hintId;return V(u.Z.unlockHint(t,n,r))}),{onSuccess:function(){},onError:function(){}}),we=(0,l.useQueries)(null!==(U=null===ee||void 0===ee?void 0:ee.map((function(e){return{queryKey:[B,e.questionEntity.questionId],queryFn:function(){return V(f.Z.getAnswerExplanation(e.questionEntity.questionId)).then((function(e){return e.data}))}}})))&&void 0!==U?U:[])||[];return(0,a.useEffect)((function(){ne&&(null===ee||void 0===ee||ee.forEach((function(e){var t=e.answer;if(e.questionEntity.questionType===de.EQuestionTypes.QUESTION_TYPE_SINGLE_CHOICE){var n,r;(null===e||void 0===e||null===(n=e.questionEntity)||void 0===n?void 0:n.questionOptions).findIndex((function(e){return e===t[0]}));W(null===e||void 0===e||null===(r=e.questionEntity)||void 0===r?void 0:r.questionId,t)}else{var i;W(null===e||void 0===e||null===(i=e.questionEntity)||void 0===i?void 0:i.questionId,e.answer)}})))}),[J,ee,ne]),(0,r.jsx)(i.Rg,{offsetY:"20px",in:!0,className:"flex flex-1",children:(0,r.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[(0,r.jsxs)("div",{className:"md:w-[700px]",children:[(0,r.jsxs)("div",{children:[ke&&(0,r.jsx)(re,{className:"-right-[200px] top-[200px]",meId:P,moduleId:Z,taskId:$,unlockable:null===(S=Ne.data)||void 0===S?void 0:S.nudgesGroupedByContext[ue.ENudgeContextTypes.NUDGE_CONTEXT_MODULE].unlockable,hint:null===(A=Ne.data)||void 0===A?void 0:A.nudgesGroupedByContext[ue.ENudgeContextTypes.NUDGE_CONTEXT_MODULE].nudges[0].hints[0]}),Ee&&(0,r.jsx)(oe,{className:"-right-[200px] top-[360px]"})]}),(0,r.jsx)("div",{children:je.isError?(0,r.jsx)("div",{className:"mt-10",children:(0,r.jsxs)("div",{className:"w-full h-full flex flex-col gap-y-3 justify-center items-center opacity-70 text-center",children:[(0,r.jsx)(o.G,{icon:["fas","exclamation-triangle"],size:"2x"}),(0,r.jsx)(v.Z,{className:"mb-3",children:"Something went wrong"}),(0,r.jsxs)(v.Z,{className:"",children:["The task could not be loaded. ",(0,r.jsx)("br",{}),"Refresh or contact"," ",(0,r.jsx)("a",{href:"https://help.crio.do/",target:"_blank",className:"underline",rel:"noreferrer",children:"support."})]})]})}):!je.isSuccess&&je.isFetching?(0,r.jsxs)("div",{className:"mt-10",children:[(0,r.jsx)(s.Od,{height:"50px"}),(0,r.jsx)("br",{}),(0,r.jsx)(s.Od,{height:"50px"}),(0,r.jsx)(s.Od,{height:"50px"}),(0,r.jsx)("br",{}),(0,r.jsx)(s.Od,{height:"30px"}),(0,r.jsx)(s.Od,{height:"30px"})]}):(0,r.jsxs)("div",{children:[je.isSuccess&&(0,r.jsxs)("div",{children:[" ",(0,r.jsx)(p.Z,{cardContentList:je.data.cardContentContainer.cardContentList})]}),(null===te||void 0===te?void 0:te.length)>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("div",{className:"px-6 py-2 bg-primary-500 bg-opacity-60 dark:bg-opacity-100",id:"quiz-".concat(J.moduleTasksDetailsEntity.meModuleTaskPk.taskId),children:(0,r.jsx)("h3",{children:"Quiz"})}),(null===ee||void 0===ee?void 0:ee.length)>0&&(0,r.jsx)("div",{className:"py-2 bg-white dark:bg-gray-700 px-6 border-background-300 dark:border-gray-700 border-l-2 border-r-2",children:(0,r.jsx)(x.Z,{totalWrongAnswerCount:se,totalCorrectAnswerCount:fe,totalTextualAnswerCount:ve})}),null===te||void 0===te?void 0:te.map((function(e,t){var n,i,s,o=(pe(s={},de.EQuestionTypes.QUESTION_TYPE_SINGLE_CHOICE,{required:!0}),pe(s,de.EQuestionTypes.QUESTION_TYPE_MULTI_CHOICE,{required:!0}),pe(s,de.EQuestionTypes.QUESTION_TYPE_TEXT_AREA,{required:!0,maxLength:2e3}),pe(s,de.EQuestionTypes.QUESTION_TYPE_TEXT_INPUT,{required:!0,maxLength:2e3}),s);return(0,r.jsxs)("div",{className:"relative py-6 flex flex-col gap-y-4 dark:bg-gray-900 mb-4 transition-all ".concat((null===(n=Y.errors)||void 0===n?void 0:n[e.questionId])?"border-failure-500 border-2":"border-background-300 dark:border-gray-700 border-2"," "),children:[(0,r.jsx)("div",{className:"absolute -top-3 left-0 w-max text-black bg-secondary-200 mt-3 p-1 px-2 text-xs rounded-br-md hidden sm:block",children:"".concat(t+1)}),(0,r.jsxs)("h2",{className:"text-base px-6 pt-2",children:[ge(null===e||void 0===e?void 0:e.questionTitle)," ",(0,r.jsx)("span",{className:"text-failure-500",children:"*"})]}),ne&&(null===we||void 0===we?void 0:we.some((function(t){return(null===t||void 0===t?void 0:t.data)&&t.data.questionId===e.questionId})))&&(0,r.jsx)("div",{className:"",children:(0,r.jsx)(m.Z,{answerData:ee.find((function(t){return t.questionEntity.questionId===e.questionId})),getAnswerExplanation:we.find((function(t){return(null===t||void 0===t?void 0:t.data)&&t.data.questionId===e.questionId})),showHTML:!1})}),ye(null===e||void 0===e?void 0:e.questionTitle).length>0&&(0,r.jsx)("div",{className:"px-6",children:(0,r.jsx)(h.Z,{quiz:!0,htmlString:ye(null===e||void 0===e?void 0:e.questionTitle)})}),(0,r.jsxs)("div",{className:"px-6",children:[(0,r.jsx)(le.Z,{register:me({},Y&&Y.register(e.questionId,o[e.questionType])),questionData:e,isQuizSubmitted:ne,showHTML:!1}),(0,r.jsx)("p",{className:"mt-4 text-sm text-failure-500",children:(null===(i=Y.errors)||void 0===i?void 0:i[e.questionId])&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-failure-500",children:"*"}),Y.errors[e.questionId].type&&"required"===Y.errors[e.questionId].type&&(0,r.jsx)("span",{children:"This field is required."}),Y.errors[e.questionId].type&&"maxLength"===Y.errors[e.questionId].type&&(0,r.jsx)("span",{children:"Maximum number of characters exceeded."})]})})]})]},t)}))]})]})}),(0,r.jsx)(ae.Z,{meId:P,moduleId:Z,taskId:$,taskDetailsQuery:R,nudgesQuery:be,unlockedHintsQuery:Te,unlockHintMutation:_e,userModuleDetailsList:L})]}),je.isSuccess&&(0,r.jsx)(z,{})]})})}ve.getLayout=fe.G},6785:function(e){e.exports={card:"HintCard_card__gnX13"}}}]);